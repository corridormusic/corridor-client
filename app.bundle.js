webpackJsonp([1],[function(e,n,t){window.Corridor=window.Corridor||{},t(49),t(31),t(48)},,,,,,,,function(e,n){Corridor=Corridor||{},Corridor.AsyncDataSource=function(e){var n=this;n.callback=function(e){};var t=new Corridor.AsyncProcessor;t.maxRetryCount=Corridor.AsyncProcessor.RETRY_NO_LIMIT,t.process=function(n){return e()},t.progress=function(e,t,o){o==Corridor.AsyncProcessor.SUCCESS&&n.callback&&n.callback(t)},n.refresh=function(){t.processKeys([""])},n.cancel=function(){t.cancel()}}},function(e,n){Corridor=Corridor||{},Corridor.AsyncProcessor=function(){var e=this;e.enabled=!0,e.working=!1,e.maxRetryCount=0,e.retryDelay=5,e.process=void 0,e.progress=void 0,e.complete=void 0;var n=void 0,t=void 0,o=0,s=0,i=Corridor.AsyncProcessor.SUCCESS;e.processKeys=function(o){void 0!==o&&e.enabled&&(t=o,void 0===n&&(e.working=!0,n=t,t=void 0,e.next()))},e.next=function(){if(0==n.length||n.length<=s){var o=i;return i=Corridor.AsyncProcessor.SUCCESS,s=0,n=void 0,e.working=!1,e.complete&&e.complete(o),void(void 0===n&&e.processKeys(t))}e.process?e.process(n[s]).then(function(n){e.completion(n,!0)})["catch"](function(n){e.completion(void 0,!1)}):e.completion(void 0,!0)},e.completion=function(t,r){i==Corridor.AsyncProcessor.CANCELED?e.next():r?(e.progress&&e.progress(n[s],t,Corridor.AsyncProcessor.SUCCESS),o=0,s++,e.next()):e.maxRetryCount==Corridor.AsyncProcessor.RETRY_NO_LIMIT||o<e.maxRetryCount?(e.progress&&e.progress(n[s],void 0,Corridor.AsyncProcessor.FAILED_WILL_RETRY),o++,setTimeout(function(){e.next()},1e3*e.retryDelay)):(e.progress&&e.progress(n[s],void 0,Corridor.AsyncProcessor.FAILED),i=Corridor.AsyncProcessor.FAILED,o=0,s++,e.next())},e.cancel=function(){n&&0!=n.length&&(n=[],i=Corridor.AsyncProcessor.CANCELED)}},Corridor.AsyncProcessor.SUCCESS=0,Corridor.AsyncProcessor.FAILED=1,Corridor.AsyncProcessor.FAILED_WILL_RETRY=2,Corridor.AsyncProcessor.CANCELED=3,Corridor.AsyncProcessor.RETRY_NO_LIMIT=-1},function(e,n){Corridor=Corridor||{},Corridor.MusicXMLParser=function(){function e(e){for(var n=void 0,s=0,i=[4,4],r=[],a=e.find("measure"),c=0;c<a.length;c++){var l=$(a[c]),d=parseInt(l.attr("number")||"1")-1,u=$(l.find("attributes"));if(u&&!n){n=u.find("divisions").text(),s=o[parseInt(u.find("key > fifths").text()||"0")],i=[parseInt(u.find("time > beats").text()),parseInt(u.find("time > beat-type").text())];for(var f=parseInt(u.find("staves").text()||"1"),p=0;p<f;p++)r.push({measures:[]});for(var v=u.find("clef"),p=0;p<v.length;p++){var m=$(v[p]),h=m.find("sign").text(),g=m.find("line").text();"G"==h&&"2"==g?r[p].clef="treble":"F"==h&&"4"==g&&(r[p].clef="bass")}}for(var y=l.find("note"),p=0;p<y.length;p++){var b=$(y[p]),x=b.find("pitch > step").text()||"b",w=b.find("pitch > octave").text()||"4",_=parseInt(b.find("pitch > alter").text()||"0"),C="";_==-1&&(C="b"),1==_&&(C="#");var I=parseInt(b.find("staff").text()||"1")-1,M=b.find("rest").length,k=x.toLowerCase()+C+"/"+w,A=t[$(b).find("type").text()]+(M?"r":"");if(k&&A){if(r.length>I)for(;r[I].measures.length<=d;)r[I].measures.push({notes:[]});r[I].measures[d].notes.push({token:k,duration:A})}}}return{key:s,time:i,staves:r}}var n=this,t={};t["256th"]="256",t["128th"]="128",t["64th"]="64",t["32nd"]="32",t["16th"]="16",t.eighth="8",t.quarter="4",t.half="2",t.whole="1";var o={};o[0]="C",o[1]="G",o[2]="D",o[3]="A",o[4]="E",o[5]="B",o[6]="F#",o[-1]="F",o[-2]="Bb",o[-3]="Eb",o[-4]="Ab",o[-5]="Db",o[-6]="Gb",n.parse=function(n){for(var t={parts:[]},o=$($.parseXML(n)).find("part"),s=0;s<o.length;s++){var i=$(o[s]);t.parts.push(e(i))}return t}}},function(e,n){Corridor=Corridor||{},Corridor.Music=new function(){var e=this;e.SHARP="♯",e.FLAT="♭",e.Note=function(e,n,t){var o=this;o.id=e,o.names=n,o.accidental=t},e.AbsoluteNote=function(e,n,t){var o=this;o.id=e.id,o.names=e.names,o.accidental=e.accidental,o.octave=n,o.value=12*n+o.id,o.tokens=[];for(var s=0;s<o.names.length;s++){var i=o.names[s];o.tokens.push(i+"/"+o.octave)}var r=o.names.indexOf(t||"--");r<0&&(r=0),o.name=o.names[r],o.token=o.tokens[r]},e.NOTES=[new e.Note(0,["c","c"],(!1)),new e.Note(1,["c#","db"],(!0)),new e.Note(2,["d","d"],(!1)),new e.Note(3,["d#","eb"],(!0)),new e.Note(4,["e","e"],(!1)),new e.Note(5,["f","f"],(!1)),new e.Note(6,["f#","gb"],(!0)),new e.Note(7,["g","g"],(!1)),new e.Note(8,["g#","ab"],(!0)),new e.Note(9,["a","a"],(!1)),new e.Note(10,["a#","bb"],(!0)),new e.Note(11,["b","b"],(!1))],e.NOTES_BY_NAME={};for(var n=0;n<e.NOTES.length;n++)for(var t=e.NOTES[n],o=0;o<t.names.length;o++)e.NOTES_BY_NAME[t.names[o]]=t;e.valueToAbsoluteNote=function(n){var t=e.NOTES[n%12],o=Math.floor(n/12);return new e.AbsoluteNote(t,o)},e.tokenToAbsoluteNote=function(n){var t=n.split("/"),o=t.length>0?t[0]:"c",s=e.NOTES_BY_NAME[o],i=t.length>1?t[1]:4;return new e.AbsoluteNote(s,i,o)},e.nameToAbsoluteNoteAboveAbsoluteNote=function(n,t){var o=e.NOTES_BY_NAME[n],s=o.id>=t.id?o.id-t.id:o.id-t.id+12,i=Math.floor((t.value+s)/12);return new e.AbsoluteNote(o,i,n)}}},function(e,n){function t(e){Object.defineProperty(this,"byteLength",{value:e,enumerable:!0}),Object.defineProperty(this,"__buffer__",{value:new Array(e)})}function o(e,n,t){arguments.length<3&&(arguments.length<2&&(n=0),t=e.byteLength-n),Object.defineProperty(this,"buffer",{value:e,enumerable:!0}),Object.defineProperty(this,"byteOffset",{value:n,enumerable:!0}),Object.defineProperty(this,"byteLength",{value:t,enumerable:!0})}function s(){var e=null,n=0,s=0;if("number"==typeof arguments[0])s=arguments[0],e=new t(4*s);else if("Array"==arguments[0].constructor.name){s=~~(arguments[0].length/4),e=new t(4*s);for(var i=0;i<4*s;i++)e.__buffer__[i]=255&arguments[0][i]}else{if("ArrayBuffer"!=arguments[0].constructor.name)throw new Error("Uint32Array unsupported type "+arguments[0].constructor.name);e=arguments[0],s=~~(e.byteLength/4),arguments.length>1&&(n=arguments[1],s=~~((e.byteLength-n)/4),arguments.length>2&&s>arguments[2]&&(s=arguments[2]))}Object.defineProperty(this,"buffer",{value:e,enumerable:!0}),Object.defineProperty(this,"byteOffset",{value:n,enumerable:!0}),Object.defineProperty(this,"byteLength",{value:4*s,enumerable:!0}),Object.defineProperty(this,"length",{value:s,enumerable:!0}),Object.defineProperty(this,"BYTES_PER_ELEMENT",{value:4,enumerable:!0}),Object.defineProperty(this,"__view__",{value:new o(e,n,s)});var r=function(e){return this.__view__.getUint32(e,!0)},a=function(e,n){this.__view__.setUint32(e,n,!0)};for(i=0;i<s;++i)Object.defineProperty(this,i,{get:r.bind(this,4*i),set:a.bind(this,4*i)})}function i(){var e,n=null,s=0,i=0;if("number"==typeof arguments[0])i=arguments[0],n=new t(i);else if("Array"==arguments[0].constructor.name)for(i=arguments[0].length,n=new t(i),e=0;e<i;e++)n.__buffer__[e]=255&arguments[0][e];else if("ArrayBuffer"==arguments[0].constructor.name)n=arguments[0],i=n.byteLength,arguments.length>1&&(s=arguments[1],i=n.byteLength,arguments.length>2&&i>arguments[2]&&(i=arguments[2]));else{if("Buffer"!=arguments[0].constructor.name)throw new Error("Uint8Array unsupported type "+arguments[0].constructor.name);for(i=arguments[0].length,n=new t(i),e=0;e<i;e++)n.__buffer__[e]=255&arguments[0][e]}Object.defineProperty(this,"buffer",{value:n,enumerable:!0}),Object.defineProperty(this,"byteOffset",{value:s,enumerable:!0}),Object.defineProperty(this,"byteLength",{value:i,enumerable:!0}),Object.defineProperty(this,"length",{value:i,enumerable:!0}),Object.defineProperty(this,"BYTES_PER_ELEMENT",{value:1,enumerable:!0}),Object.defineProperty(this,"__view__",{value:new o(n,s,i)});var r=function(e){return this.__view__.getUint8(e,!0)},a=function(e,n){this.__view__.setUint8(e,n,!0)};for(e=0;e<i;++e)Object.defineProperty(this,e,{get:r.bind(this,e),set:a.bind(this,e)})}try{n.ArrayBuffer=t}catch(r){}t.prototype.slice=function(e,n){arguments.length<2&&(n=this.byteLength);for(var o=n-e,s=new t(o),i=0;i<o;i++)s.__buffer__[i]=this.__buffer__[e+i];return s},n.DataView=o,o.prototype.setUint8=function(e,n){this.buffer.__buffer__[this.byteOffset+e]=255&n},o.prototype.setInt8=function(e,n){this.setUint8(e,n)},o.prototype.setUint32=function(e,n,t){arguments.length<3&&(t=!1),t?(this.setUint8(e,255&n),this.setUint8(e+1,n>>8&255),this.setUint8(e+2,n>>16&255),this.setUint8(e+3,n>>24&255)):(this.setUint8(e+3,255&n),this.setUint8(e+2,n>>8&255),this.setUint8(e+1,n>>16&255),this.setUint8(e,n>>24&255))},o.prototype.getUint8=function(e){return this.buffer.__buffer__[this.byteOffset+e]},o.prototype.getInt8=function(e){var n=this.getUint8(e);return n<128?n:n-256},o.prototype.getUint16=function(e,n){arguments.length<2&&(n=!1);var t=0;return t=n?this.getUint8(e)|this.getUint8(e+1)<<8:this.getUint8(e+1)|this.getUint8(e)<<8},o.prototype.getUint32=function(e,n){arguments.length<2&&(n=!1);var t=0;return t=n?this.getUint8(e)|this.getUint8(e+1)<<8|this.getUint8(e+2)<<16|this.getUint8(e+3)<<24:this.getUint8(e+3)|this.getUint8(e+2)<<8|this.getUint8(e+1)<<16|this.getUint8(e)<<24,t>>>0},n.Uint32Array=s,n.Uint8Array=i},function(e,n,t){var o,o;(function(e){!function n(e,t,s){function i(a,c){if(!t[a]){if(!e[a]){var l="function"==typeof o&&o;if(!c&&l)return o(a,!0);if(r)return r(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(n){var t=e[a][1][n];return i(t?t:n)},u,u.exports,n,e,t,s)}return t[a].exports}for(var r="function"==typeof o&&o,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(e,n,t){function o(){d=!1,a.length?l=a.concat(l):u=-1,l.length&&s()}function s(){if(!d){var e=setTimeout(o);d=!0;for(var n=l.length;n;){for(a=l,l=[];++u<n;)a&&a[u].run();u=-1,n=l.length}a=null,d=!1,clearTimeout(e)}}function i(e,n){this.fun=e,this.array=n}function r(){}var a,c=n.exports={},l=[],d=!1,u=-1;c.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new i(e,n)),1!==l.length||d||setTimeout(s,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=r,c.addListener=r,c.once=r,c.off=r,c.removeListener=r,c.removeAllListeners=r,c.emit=r,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(e,n,t){"use strict";function o(e){var n="jazz_"+a++ +Date.now(),t=void 0,o=void 0,s=void 0;if(i.getDevice().nodejs===!0)o=new jazzMidi.MIDI;else{var l=document.createElement("object");l.id=n+"ie",l.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",s=l;var d=document.createElement("object");d.id=n,d.type="audio/x-jazz",l.appendChild(d),o=d;var u=document.createElement("p");u.appendChild(document.createTextNode("This page requires the "));var f=document.createElement("a");f.appendChild(document.createTextNode("Jazz plugin")),f.href="http://jazz-soft.net/",u.appendChild(f),u.appendChild(document.createTextNode(".")),d.appendChild(u);var p=document.getElementById("MIDIPlugin");p||(p=document.createElement("div"),p.id="MIDIPlugin",p.style.position="absolute",p.style.visibility="hidden",p.style.left="-9999px",p.style.top="-9999px",document.body.appendChild(p)),p.appendChild(l)}setTimeout(function(){o.isJazz===!0?t=o:s.isJazz===!0&&(t=s),void 0!==t&&(t._perfTimeZero=performance.now(),c.set(n,t)),e(t)},r)}function s(e,n){var t=null,s="input"===e?"inputInUse":"outputInUse",i=!0,r=!1,a=void 0;try{for(var l,d=c.values()[Symbol.iterator]();!(i=(l=d.next()).done);i=!0){var u=l.value;if(u[s]!==!0){t=u;break}}}catch(f){r=!0,a=f}finally{try{!i&&d["return"]&&d["return"]()}finally{if(r)throw a}}null===t?o(n):n(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createJazzInstance=o,t.getJazzInstance=s;var i=e("./util"),r=100,a=0,c=new Map},{"./util":9}],3:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(){return new Promise(function(e,n){return void 0!==b?void e(b):"ie9"===y.getDevice().browser?void n({message:"WebMIDIAPIShim supports Internet Explorer 10 and above."}):void v.createJazzInstance(function(t){return void 0===t?void n({message:"No access to MIDI devices: browser does not support the WebMIDI API and the Jazz plugin is not installed."}):(x=t,void i(function(){l(),b=new k(w,_),e(b)}))})})}function i(e){var n=x.MidiInList(),t=x.MidiOutList(),o=n.length,s=t.length;r(0,o,"input",n,function(){r(0,s,"output",t,e)})}function r(e,n,t,o,s){if(n>e){var i=o[e++];a(t,i,function(){r(e,n,t,o,s)})}else s()}function a(e,n,t){v.getJazzInstance(e,function(o){var s=void 0,i=[n,"",""];"input"===e?(o.Support("MidiInInfo")&&(i=o.MidiInInfo(n)),s=new m.MIDIInput(i,o),w.set(s.id,s)):"output"===e&&(o.Support("MidiOutInfo")&&(i=o.MidiOutInfo(n)),s=new h.MIDIOutput(i,o),_.set(s.id,s)),t(s)})}function c(e,n){var t=void 0,o=!0,s=!1,i=void 0;try{for(var r,a=e.values()[Symbol.iterator]();!(o=(r=a.next()).done)&&(t=r.value,t.name!==n);o=!0);}catch(c){s=!0,i=c}finally{try{!o&&a["return"]&&a["return"]()}finally{if(s)throw i}}return t}function l(){x.OnDisconnectMidiIn(function(e){var n=c(w,e);void 0!==n&&(n.state="disconnected",n.close(),n._jazzInstance.inputInUse=!1,w["delete"](n.id),d(n))}),x.OnDisconnectMidiOut(function(e){var n=c(_,e);void 0!==n&&(n.state="disconnected",n.close(),n._jazzInstance.outputInUse=!1,_["delete"](n.id),d(n))}),x.OnConnectMidiIn(function(e){a("input",e,function(e){d(e)})}),x.OnConnectMidiOut(function(e){a("output",e,function(e){d(e)})})}function d(e){e.dispatchEvent(new g.MIDIConnectionEvent(e,e));var n=new g.MIDIConnectionEvent(b,e);"function"==typeof b.onstatechange&&b.onstatechange(n);var t=!0,o=!1,s=void 0;try{for(var i,r=M[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var a=i.value;a(n)}}catch(c){o=!0,s=c}finally{try{!t&&r["return"]&&r["return"]()}finally{if(o)throw s}}}function u(){w.forEach(function(e){e._jazzInstance.MidiInClose()})}function f(e,n){var t=void 0;return"input"===n?(t=C.get(e),void 0===t&&(t=y.generateUUID(),C.set(e,t))):"output"===n&&(t=I.get(e),void 0===t&&(t=y.generateUUID(),I.set(e,t))),t}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();t.createMIDIAccess=s,t.dispatchEvent=d,t.closeAllMIDIInputs=u,t.getMIDIDeviceId=f;var v=e("./jazz_instance"),m=e("./midi_input"),h=e("./midi_output"),g=e("./midiconnection_event"),y=e("./util"),b=void 0,x=void 0,w=new Map,_=new Map,C=new Map,I=new Map,M=new Set,k=function(){function e(n,t){o(this,e),this.sysexEnabled=!0,this.inputs=n,this.outputs=t}return p(e,[{key:"addEventListener",value:function(e,n,t){"statechange"===e&&M.has(n)===!1&&M.add(n)}},{key:"removeEventListener",value:function(e,n,t){"statechange"===e&&M.has(n)===!0&&M["delete"](n)}}]),e}()},{"./jazz_instance":2,"./midi_input":4,"./midi_output":5,"./midiconnection_event":6,"./util":9}],4:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=e("./util"),r=e("./midimessage_event"),a=(e("./midiconnection_event"),e("./midi_access")),c=void 0,l=i.getDevice().nodejs,d=function(){function e(n,t){o(this,e),this.id=a.getMIDIDeviceId(n[0],"input"),this.name=n[0],this.manufacturer=n[1],this.version=n[2],this.type="input",this.state="connected",this.connection="pending",this.onstatechange=null,this._onmidimessage=null,Object.defineProperty(this,"onmidimessage",{set:function(e){this._onmidimessage=e,"function"==typeof e&&this.open()}}),this._listeners=(new Map).set("midimessage",new Set).set("statechange",new Set),this._inLongSysexMessage=!1,this._sysexBuffer=new Uint8Array,this._jazzInstance=t,this._jazzInstance.inputInUse=!0,"linux"===i.getDevice().platform&&this._jazzInstance.MidiInOpen(this.name,c.bind(this))}return s(e,[{key:"addEventListener",value:function(e,n,t){var o=this._listeners.get(e);void 0!==o&&o.has(n)===!1&&o.add(n)}},{key:"removeEventListener",value:function(e,n,t){var o=this._listeners.get(e);void 0!==o&&o.has(n)===!1&&o["delete"](n)}},{key:"dispatchEvent",value:function(e){var n=this._listeners.get(e.type);n.forEach(function(n){n(e)}),"midimessage"===e.type?null!==this._onmidimessage&&this._onmidimessage(e):"statechange"===e.type&&null!==this.onstatechange&&this.onstatechange(e)}},{key:"open",value:function(){"open"!==this.connection&&("linux"!==i.getDevice().platform&&this._jazzInstance.MidiInOpen(this.name,c.bind(this)),this.connection="open",a.dispatchEvent(this))}},{key:"close",value:function(){"closed"!==this.connection&&("linux"!==i.getDevice().platform&&this._jazzInstance.MidiInClose(),this.connection="closed",a.dispatchEvent(this),this._onmidimessage=null,this.onstatechange=null,this._listeners.get("midimessage").clear(),this._listeners.get("statechange").clear())}},{key:"_appendToSysexBuffer",value:function(e){var n=this._sysexBuffer.length,t=new Uint8Array(n+e.length);t.set(this._sysexBuffer),t.set(e,n),this._sysexBuffer=t}},{key:"_bufferLongSysex",value:function(e,n){for(var t=n;t<e.length;){if(247==e[t])return t++,this._appendToSysexBuffer(e.slice(n,t)),t;t++}return this._appendToSysexBuffer(e.slice(n,t)),this._inLongSysexMessage=!0,t}}]),e}();t.MIDIInput=d,c=function(e,n){var t=0,o=void 0,s=!1;for(o=0;o<n.length;o+=t){var i=!0;if(this._inLongSysexMessage){if(o=this._bufferLongSysex(n,o),247!=n[o-1])return;s=!0}else switch(s=!1,240&n[o]){case 0:t=1,i=!1;break;case 128:case 144:case 160:case 176:case 224:t=3;break;case 192:case 208:t=2;break;case 240:switch(n[o]){case 240:if(o=this._bufferLongSysex(n,o),247!=n[o-1])return;s=!0;break;case 241:case 243:t=2;break;case 242:t=3;break;default:t=1}}if(i){var a={};if(a.receivedTime=parseFloat(e.toString())+this._jazzInstance._perfTimeZero,s||this._inLongSysexMessage?(a.data=new Uint8Array(this._sysexBuffer),this._sysexBuffer=new Uint8Array(0),this._inLongSysexMessage=!1):a.data=new Uint8Array(n.slice(o,t+o)),l)this._onmidimessage&&this._onmidimessage(a);else{var c=new r.MIDIMessageEvent(this,a.data,a.receivedTime);this.dispatchEvent(c)}}}}},{"./midi_access":3,"./midiconnection_event":6,"./midimessage_event":7,"./util":9}],5:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),i=e("./util"),r=e("./midi_access"),a=function(){function e(n,t){o(this,e),this.id=r.getMIDIDeviceId(n[0],"output"),this.name=n[0],this.manufacturer=n[1],this.version=n[2],this.type="output",this.state="connected",this.connection="pending",this.onmidimessage=null,this.onstatechange=null,this._listeners=new Set,this._inLongSysexMessage=!1,this._sysexBuffer=new Uint8Array,this._jazzInstance=t,this._jazzInstance.outputInUse=!0,"linux"===i.getDevice().platform&&this._jazzInstance.MidiOutOpen(this.name)}return s(e,[{key:"open",value:function(){"open"!==this.connection&&("linux"!==i.getDevice().platform&&this._jazzInstance.MidiOutOpen(this.name),this.connection="open",r.dispatchEvent(this))}},{key:"close",value:function(){"closed"!==this.connection&&("linux"!==i.getDevice().platform&&this._jazzInstance.MidiOutClose(),this.connection="closed",r.dispatchEvent(this),this.onstatechange=null,this._listeners.clear())}},{key:"send",value:function(e,n){var t=this,o=0;return 0!==e.length&&(n&&(o=Math.floor(n-performance.now())),n&&o>1?setTimeout(function(){t._jazzInstance.MidiOutLong(e)},o):this._jazzInstance.MidiOutLong(e),!0)}},{key:"clear",value:function(){}},{key:"addEventListener",value:function(e,n,t){"statechange"===e&&this._listeners.has(n)===!1&&this._listeners.add(n)}},{key:"removeEventListener",value:function(e,n,t){"statechange"===e&&this._listeners.has(n)===!1&&this._listeners["delete"](n)}},{key:"dispatchEvent",value:function(e){this._listeners.forEach(function(n){n(e)}),null!==this.onstatechange&&this.onstatechange(e)}}]),e}();t.MIDIOutput=a},{"./midi_access":3,"./util":9}],6:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function i(e,n){o(this,i),this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.port=n,this.returnValue=!0,this.srcElement=e,this.target=e,this.timeStamp=Date.now(),this.type="statechange"};t.MIDIConnectionEvent=s},{}],7:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function i(e,n,t){o(this,i),this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=e,this.data=n,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.receivedTime=t,this.returnValue=!0,this.srcElement=e,this.target=e,this.timeStamp=Date.now(),this.type="midimessage"};t.MIDIMessageEvent=s},{}],8:[function(e,n,t){"use strict";var o=e("./midi_access"),s=e("./util"),i=void 0;!function(){navigator.requestMIDIAccess||(s.polyfill(),navigator.requestMIDIAccess=function(){return void 0===i&&(i=o.createMIDIAccess()),i},s.getDevice().nodejs===!0&&(navigator.close=function(){o.closeAllMIDIInputs()}))}()},{"./midi_access":3,"./util":9}],9:[function(n,t,o){(function(e,n){"use strict";function t(){if(void 0!==c)return c;var n="undetected",t="undetected";if(navigator.nodejs)return n=e.platform,c={platform:n,nodejs:!0,mobile:"ios"===n||"android"===n};var o=navigator.userAgent;return o.match(/(iPad|iPhone|iPod)/g)?n="ios":-1!==o.indexOf("Android")?n="android":-1!==o.indexOf("Linux")?n="linux":-1!==o.indexOf("Macintosh")?n="osx":-1!==o.indexOf("Windows")&&(n="windows"),-1!==o.indexOf("Chrome")?(t="chrome",-1!==o.indexOf("OPR")?t="opera":-1!==o.indexOf("Chromium")&&(t="chromium")):-1!==o.indexOf("Safari")?t="safari":-1!==o.indexOf("Firefox")?t="firefox":-1!==o.indexOf("Trident")&&(t="ie",-1!==o.indexOf("MSIE 9")&&(t="ie9")),"ios"===n&&-1!==o.indexOf("CriOS")&&(t="chrome"),c={platform:n,browser:t,mobile:"ios"===n||"android"===n,nodejs:!1}}function s(){void 0===performance&&(performance={}),Date.now=Date.now||function(){return(new Date).getTime()},void 0===performance.now&&!function(){var e=Date.now();void 0!==performance.timing&&void 0!==performance.timing.navigationStart&&(e=performance.timing.navigationStart),performance.now=function(){return Date.now()-e}}()}function i(){var e=(new Date).getTime(),n=new Array(64).join("x");return n=n.replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16).toUpperCase()})}function r(e){"function"!=typeof e.Promise&&(e.Promise=function(e){this.executor=e},e.Promise.prototype.then=function(e,n){"function"!=typeof e&&(e=function(){}),"function"!=typeof n&&(n=function(){}),this.executor(e,n)})}function a(){var e=t();"ie"===e.browser?r(window):e.nodejs===!0&&r(n),s()}Object.defineProperty(o,"__esModule",{value:!0}),o.getDevice=t,o.polyfillPerformance=s,o.generateUUID=i,o.polyfillPromise=r,o.polyfill=a;var c=void 0}).call(this,n("_process"),"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}]},{},[8])}).call(n,function(){return this}())},function(e,n){function t(e){if(this.options={selector:"*",mouseEvents:["click","dblclick","mousedown","mouseup"],usePolyfillIf:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;if(null!=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)){var n=parseFloat(RegExp.$1);if(n<11)return!0}}return!1}},e){var n=this;$.each(e,function(e,t){n.options[e]=t})}this.options.usePolyfillIf()&&this.register_mouse_events()}t.initialize=function(e){return null==t.singleton&&(t.singleton=new t(e)),t.singleton},t.prototype.register_mouse_events=function(){$(document).on(this.options.mouseEvents.join(" "),this.options.selector,function(e){if("none"==$(this).css("pointer-events")){var n=$(this).css("display");$(this).css("display","none");var t=document.elementFromPoint(e.clientX,e.clientY);return n?$(this).css("display",n):$(this).css("display",""),e.target=t,$(t).trigger(e),!1}return!0})},$(document).ready(function(){t.initialize({})})},function(e,n){var t=["c/4","d/4","e/4","f/4","g/4","a/4","b/4"],o=["c/4","d/4","e/4","f/4","g/4","a/4","b/4","c/5","d/5","e/5","f/5","g/5"],s=["f/2","g/2","a/2","b/2","c/3","d/3","e/3","f/3","g/3","a/3","b/3","c/4"];e.exports={id:1,name:"Note Reading: Natural Notes",lessons:[{id:101,level:1,description:"Identify note names on a piano",type:"see-it-name-it",games:[{type:"s-piano-n",notes:t}]},{id:102,level:2,description:"Play note names on a piano",type:"see-it-play-it",games:[{type:"s-name-p",notes:t}]},{id:103,level:3,description:"Identify notes on treble clef staff",type:"see-it-name-it",games:[{type:"s-staff-n",clefs:["treble"],notes:[o]},{type:"s-name-o",clefs:["treble"],notes:[o]},{type:"s-piano-o",clefs:["treble"],notes:[o]}]},{id:104,level:4,description:"Identify notes on bass clef staff",type:"see-it-name-it",games:[{type:"s-staff-n",clefs:["bass"],notes:[s]},{type:"s-name-o",clefs:["bass"],notes:[s]},{type:"s-piano-o",clefs:["bass"],notes:[s]}]},{id:105,level:5,description:"Play notes on treble / bass clef staff",type:"see-it-play-it",games:[{type:"s-staff-p",clefs:["treble","bass"],notes:[o,s]}]},{id:106,level:6,description:"Review all concepts",type:"review",games:[{type:"s-piano-n",notes:t},{type:"s-name-p",notes:t},{type:"s-staff-n",clefs:["treble","bass"],notes:[o,s]},{type:"s-name-o",clefs:["treble","bass"],notes:[o,s]},{type:"s-piano-o",clefs:["treble","bass"],notes:[o,s]},{type:"s-staff-p",clefs:["treble","bass"],notes:[o,s]}]}]}},function(e,n){var t=["c#/4","d#/4","f#/4","g#/4","a#/4"],o=["c/4","c#/4","d/4","d#/4","e/4","f/4","f#/4","g/4","g#/4","a/4","a#/4","b/4"],s=["c/4","c#/4","d/4","d#/4","e/4","f/4","f#/4","g/4","g#/4","a/4","a#/4","b/4","c/5","c#/5","d/5","d#/5","e/5","f/5","f#/5","g/5"],i=["f/2","f#/2","g/2","g#/2","a/2","a#/2","b/2","c/3","c#/3","d/3","d#/3","e/3","f/3","f#/3","g/3","g#/3","a/3","a#/3","b/3","c/4"];e.exports={id:2,name:"Note Reading: Accidentals",lessons:[{id:201,level:1,description:"Identify note names on a piano",type:"see-it-name-it",games:[{type:"s-piano-n",notes:t}]},{id:202,level:2,description:"Play note names on a piano",type:"see-it-play-it",games:[{type:"s-name-p",notes:t}]},{id:203,level:3,description:"Identify notes on staff",type:"see-it-name-it",games:[{type:"s-staff-n",clefs:["treble","bass"],notes:[s,i]},{type:"s-name-o",clefs:["treble","bass"],notes:[s,i]},{type:"s-piano-o",clefs:["treble","bass"],notes:[s,i]}]},{id:204,level:4,description:"Play notes on staff",type:"see-it-play-it",games:[{type:"s-staff-p",clefs:["treble","bass"],notes:[s,i]}]},{id:205,level:5,description:"Review all concepts",type:"review",games:[{type:"s-piano-n",notes:o},{type:"s-name-p",notes:o},{type:"s-staff-n",clefs:["treble","bass"],notes:[s,i]},{type:"s-name-o",clefs:["treble","bass"],notes:[s,i]},{type:"s-piano-o",clefs:["treble","bass"],notes:[s,i]},{type:"s-staff-p",clefs:["treble","bass"],notes:[s,i]}]}]}},function(e,n){e.exports={id:3,name:"Rhythm",lessons:[{id:301,level:1,description:"Identify counting with eighth notes",type:"see-it-name-it",games:[{type:"s-count-o",folder:"static/xml/lessons/03/01/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:302,level:2,description:"Count notation with eighth notes",type:"see-it-name-it",games:[{type:"s-staff-c",folder:"static/xml/lessons/03/01/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:303,level:3,description:"Hear notation with eighth notes",type:"hear-it-name-it",games:[{type:"h-count-o",folder:"static/xml/lessons/03/01/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:304,level:4,description:"Identify counting with sixteenth notes",type:"see-it-name-it",games:[{type:"s-count-o",folder:"static/xml/lessons/03/02/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:305,level:5,description:"Count notation with sixteenth notes",type:"see-it-name-it",games:[{type:"s-staff-c",folder:"static/xml/lessons/03/02/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:306,level:6,description:"Hear notation with sixteenth notes",type:"hear-it-name-it",games:[{type:"h-count-o",folder:"static/xml/lessons/03/02/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:307,level:7,description:"Identify counting with rests",type:"see-it-name-it",games:[{type:"s-count-o",folder:"static/xml/lessons/03/03/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:308,level:8,description:"Count notation with rests",type:"see-it-name-it",games:[{type:"s-staff-c",folder:"static/xml/lessons/03/03/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]},{id:309,level:9,description:"Hear notation with rests",type:"hear-it-name-it",games:[{type:"h-count-o",folder:"static/xml/lessons/03/03/",files:["01.xml","02.xml","03.xml","04.xml","05.xml","06.xml","07.xml","08.xml","09.xml","10.xml"]}]}]}},function(e,n,t){Corridor=Corridor||{},Corridor.LessonGroups=[t(15),t(16),t(17)];var o=void 0;Corridor.LessonsByID={};for(var s=0;s<Corridor.LessonGroups.length;s++)for(var i=Corridor.LessonGroups[s],r=0;r<i.lessons.length;r++){var a=i.lessons[r];Corridor.LessonsByID[a.id]=a,a.group=i,o&&(a.previous=o,o.next=a),o=a}},function(e,n){!function(){"use strict";function e(e){var n=this;n.session=e;var t=function(e){return e.data};n.getUser=function(){return e.GET("users/current").then(t)}}angular.module("app.core").service("API",e),e.$inject=["Session"]}()},function(e,n){!function(){"use strict";function e(){var e=this,n=(new Tone.Freeverb).toMaster();n.dampening.value=2e4,n.wet.value=.075,n.roomSize.value=.8;for(var t=new Tone.MultiPlayer([new Tone.Buffer("static/audio/metronome-up.wav"),new Tone.Buffer("static/audio/metronome.wav")]).toMaster(),o=new Tone.Buffer("static/audio/piano-c4.wav"),s=[o],i=[],r={},a=0;a<8;a++){var c=new Tone.MultiPlayer(s).connect(n);c.fadeOut=.2,i.push(c)}var l=Corridor.Music.tokenToAbsoluteNote("c/4").value,d=0;e.triggerAttack=function(e,n,t){for(var o=void 0,s=0;s<i.length;s++)if("stopped"==i[s].state){o=i[s],o.playerID&&r[o.playerID]&&delete r[o.playerID];break}if(o)return o.start(0,n||0,0,t,e.value-l,1),d+=1,o.playerID=d,r[d]=o,d},e.triggerRelease=function(e){var n=r[e];return n?(n.stop(0),void delete r[e]):void console.log("Missed: "+e)},e.releaseAll=function(){for(var e in r)r[e].stop(0);r={}};var u={};u[1]=16,u[2]=8,u[4]=4,u[8]=2,u[16]=1,u["1r"]=16,u["2r"]=8,u["4r"]=4,u["8r"]=2,u["16r"]=1,e.schedulePart=function(n){Tone.Transport.timeSignature=n.time;for(var o=0,s=0;s<n.staves.length;s++){var i=n.staves[s];o=Math.max(o,i.measures.length);for(var r=0;r<i.measures.length;r++)for(var a=i.measures[r],c=0,l=0;l<a.notes.length;l++)!function(){var n=a.notes[l],t=u[n.duration],o=n.duration.indexOf("r")>=0,s=r+1+":"+Math.floor(c/4)+":"+c%4;c+=t,o||Tone.Transport.schedule(function(t){e.triggerAttack(Corridor.Music.tokenToAbsoluteNote(n.token),t,n.duration+"n");
},s)}()}Tone.Transport.schedule(function(n){e.stopAndCancel()},o+1+":0:0"),Tone.Transport.scheduleRepeat(function(e){var n=Tone.Transport.position.split(":"),o="0"==n[1]?0:1;t.start(o,e,0,"4n",0,1)},"4n")},e.play=function(){Tone.Transport.start()},e.stopAndCancel=function(){Tone.Transport.stop(),Tone.Transport.cancel()}}angular.module("app.core").service("Audio",e),e.$inject=[]}()},function(e,n,t){!function(){"use strict";function e(e,n){n.otherwise("/"),e.state("login",{url:"/login",views:{content:{template:t(72),controller:"LoginController",controllerAs:"vm"}}}).state("dashboard",{"abstract":!0,url:"/",views:{content:{template:t(61),controller:"DashboardController",controllerAs:"vm"}}}).state("dashboard.lesson-list",{url:"",views:{"dashboard-body":{template:t(63),controller:"LessonListController",controllerAs:"vm"}}}).state("dashboard.lesson",{url:"lesson/:lessonId",views:{"dashboard-body":{template:t(67),controller:"LessonController",controllerAs:"vm"}}}).state("dashboard.lesson-recap",{url:"recap/:lessonId",views:{"dashboard-body":{template:t(64),controller:"LessonRecapController",controllerAs:"vm"}}})}angular.module("app.core").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}()},function(e,n){!function(){"use strict";function e(e){angular.extend(e,{positionClass:"toast-top-center"})}angular.module("app.core").config(e),e.$inject=["toastrConfig"]}()},function(e,n){!function(){"use strict";angular.module("app.core",["ngTouch","toastr","ui.bootstrap","ui.router"])}()},function(e,n){!function(){"use strict";function e(){function e(e){t.onKeyPress&&t.onKeyPress(e,o.indexOf(e))}function n(e){t.onKeyRelease&&t.onKeyRelease(e,o.indexOf(e))}for(var t=this,o=["a","w","s","e","d","f","t","g","y","h","u","j","k","o","l","p",";","'"],s=0;s<o.length;s++)!function(){var t=o[s];keyboardJS.bind(t,function(n){n.preventRepeat(),e(t)},function(e){n(t)})}();for(var i=["1","2","3","enter","=","+","-"],s=0;s<i.length;s++)!function(){var t=i[s];keyboardJS.bind(t,function(n){n.preventRepeat(),e(t)},function(e){n(t)})}()}angular.module("app.core").service("Keyboard",e),e.$inject=[]}()},function(e,n){!function(){"use strict";function e(){function e(e){var o=e.data,s=(o[0]>>4,15&o[0],240&o[0]),i=o[1],r=o[2];if(i-=12,!(i<0||i>88))switch(s){case 144:n(i,r);break;case 128:t(i)}}function n(e,n){o.onKeyPress&&o.onKeyPress(e,n)}function t(e,n){o.onKeyRelease&&o.onKeyRelease(e)}var o=this,s=void 0;navigator.requestMIDIAccess().then(function(n){s=n;for(var t=s.inputs.values(),o=t.next();o&&!o.done;o=t.next())o.value.onmidimessage=e;console.log("MIDI Succeeded.")},function(e){console.log("MIDI Failed: "+e)})}angular.module("app.core").service("MIDI",e),e.$inject=[]}()},function(e,n){!function(){"use strict";function e(e){var n=this,t=function(){return Lockr.get("Session.access-token")},o=function(e){Lockr.set("Session.access-token",e)},s=function(n,o,s,i,r,a){i=i||{},r=r||{},n===e&&(r.Accept="application/json",r["Content-Type"]||(r["Content-Type"]="application/json"));var c=t();c&&!r.Authorization&&(r.Authorization="Bearer "+c);var l=Corridor.API_URL;return 0!==s.lastIndexOf("oauth/",0)&&0!==s.lastIndexOf("account/",0)&&(l+="api/1/"),l+=s,n({url:l,method:o,headers:r,params:i,data:a})},i=function(e){var t={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+Corridor.OAUTH_CLIENT_BASE_64};return n.POST("oauth/token",{},t,e).then(function(e){if(!e.data.access_token)throw"Invalid access token";return e.data.access_token})},r=function(){return i("grant_type=client_credentials&scope=basic").then(function(e){return{Authorization:"Bearer "+e}})};n.userRegister=function(e,t,o){var s={email:e,password:t};return o&&(s.name=o),r().then(function(e){return n.POST("account/register",s,e)})},n.userResetPassword=function(e){return r().then(function(t){return n.POST("account/reset-password",{email:e},t)})},n.userIsLoggedIn=function(){return!!t()},n.userLogin=function(e,n){var t="username="+e+"&password="+n+"&grant_type=password&scope=basic";return i(t).then(function(e){o(e)})},n.userLogout=function(){return o(void 0),Promise.resolve(!0)},n.GET=function(n,t,o,i){return s(e,"GET",n,t,o,i)},n.POST=function(n,t,o,i){return s(e,"POST",n,t,o,i)},n.PUT=function(n,t,o,i){return s(e,"PUT",n,t,o,i)},n.DELETE=function(n,t,o,i){return s(e,"DELETE",n,t,o,i)}}angular.module("app.core").service("Session",e),e.$inject=["$http"]}()},function(e,n){!function(){"use strict";function e(e,n,t,o){function s(){a.loggedIn=a.user&&o.session.userIsLoggedIn,r(),i()}function i(){var e=n.current.name;!a.loggedIn||"login"!=e&&"sell"!=e?a.loggedIn||"login"==e||"sell"==e||n.go("login"):n.go("dashboard.lesson-list")}function r(){}var a=this;a.user=Lockr.get("State.user"),a.loggedIn=!1,a.register=function(e,n,t){return o.session.userRegister(e,n,t).then(function(){return a.login(e,n)})},a.login=function(e,n){return o.session.userLogin(e,n).then(function(){return o.getUser()}).then(function(e){var n=e.users&&e.users.length>0&&e.users[0];if(!n)throw new Error("No user found.");return a.user=n,n})},a.logout=function(){return a.user=void 0,o.session.userLogout()},e.$watch(function(){return a.user},function(){Lockr.set("State.user",a.user),s()}),e.$on("$stateChangeSuccess",function(e,n,t,o,s){i()}),a.status={101:{enabled:!0},102:{enabled:!0},103:{enabled:!0},104:{enabled:!0},105:{enabled:!0},106:{enabled:!0},201:{enabled:!0},202:{enabled:!0},203:{enabled:!0},204:{enabled:!0},205:{enabled:!0},301:{enabled:!0},302:{enabled:!0},303:{enabled:!0},304:{enabled:!0},305:{enabled:!0},306:{enabled:!0},307:{enabled:!0},308:{enabled:!0},309:{enabled:!0}},a.expandedGroup=3,a.onScreenKeyboardIsCollapsed=!0}angular.module("app.core").service("State",e),e.$inject=["$rootScope","$state","$q","API"]}()},function(e,n){!function(){"use strict";function e(){return{restrict:"A",link:n}}function n(e,n,t){t.$observe("cmViewBox",function(e){n.attr("viewBox",e)})}angular.module("app.core").directive("cmViewBox",e)}()},function(e,n){!function(){"use strict";function e(e){var n=this;n.state=e,n.logout=function(){return e.logout()}}angular.module("app.dashboard").controller("DashboardController",e),e.$inject=["State"]}()},function(e,n){!function(){"use strict";angular.module("app.dashboard",[])}()},function(e,n,t){!function(){"use strict";angular.module("app",["app.core","app.dashboard","app.lesson","app.login"])}(),$=t(2),keyboardJS=t(3),Lockr=t(5),Tone=t(6),VF=t(7).Flow,t(12),t(14),t(13),t(8),t(9),t(10),t(11),t(18),t(23),t(19),t(20),t(21),t(22),t(24),t(25),t(26),t(27),t(28),t(30),t(29),t(47),t(46),t(40),t(32),t(33),t(34),t(35),t(36),t(37),t(38),t(39),t(41),t(42),t(43),t(44),t(45)},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(62),controller:n,controllerAs:"vm"}}function n(e){for(var n=this,t=4,c=["1","e","+","a"],l=0,d=[],u=e.options&&e.options.staves||[],f=0;f<u.length;f++)for(var p=u[f],v=0;v<p.measures.length;v++)for(var m=p.measures[v],h=0;h<m.notes.length;h++){var g=m.notes[h],y=o[g.duration],b=g.duration.indexOf("r")>=0;d.push({beat:l,rest:b}),l+=y}d.push({beat:l,rest:!1});for(var x=[],w=0,f=0;f<d.length;f++){for(var _=d[f].beat,b=d[f].rest;_>w;){var C={x:s*w+i,y:a,style:"font-family: CoreSans-CR; font-size: 17px; font-weight: 400; fill: #000;",text:"-"};x.push(C),w+=t}if(w=Math.floor((_+t)/t)*t,_==l)break;var I=c[_%t];if("1"==I&&(I=""+(Math.floor(_/t)+1)),b&&(I="("+I+")"),I){var M=0==_%t?"17px":"14px",C={x:s*_+i,y:a,style:"font-family: CoreSans-CR; font-size: "+M+"; font-weight: 400; fill: #000;",text:I};x.push(C)}}n.texts=x,n.bounds="0 0 "+(l*s+s)+" "+r}angular.module("app.lesson").directive("cmCounting",e);var o={};o[2]=8,o[4]=4,o[8]=2,o[16]=1,o["2r"]=8,o["4r"]=4,o["8r"]=2,o["16r"]=1;var s=20,i=s/2,r=20,a=r/2;n.$inject=["$scope"]}()},function(e,n){!function(){"use strict";function e(e,n){function t(n){var t=m(n.notes),o={};o[t.token]="#3498DB";var s=p(t,n.notes,function(e){return e.name},function(e){return g(e.names)});return e(function(e,n){e({question:"Select the displayed note's name",display:[{piano:{start:"c/"+t.octave,length:13,highlights:o}}],answer:{select:{names:s.choices,correct:s.correct}}})})}function o(n){var t=m(n.notes);return e(function(e,n){e({question:"Play the displayed note name",display:[{name:g(t.names)}],answer:{play:[t],exact:!1}})})}function s(n){var t=Math.floor(Math.random()*n.clefs.length),o=m(n.notes[t]),s=Math.floor(Math.random()*o.tokens.length),i=p(o,n.notes[t],function(e){return e.name},function(e){return e.names[s]});return e(function(e,r){e({question:"Select the displayed note's name",display:[{notation:u(Corridor.Music.tokenToAbsoluteNote(o.tokens[s]),n.clefs[t])}],answer:{select:{names:i.choices,correct:i.correct}}})})}function i(n){var t=Math.floor(Math.random()*n.clefs.length),o=m(n.notes[t]),s=Math.floor(Math.random()*o.tokens.length),i=p(o,n.notes[t],function(e){return e.name},function(e){return u(Corridor.Music.tokenToAbsoluteNote(e.tokens[s]),n.clefs[t])});return e(function(e,n){e({question:"Select the displayed note's notation",display:[{name:o.names[s]}],answer:{select:{notations:i.choices,correct:i.correct}}})})}function r(n){var t=Math.floor(Math.random()*n.clefs.length),o=m(n.notes[t]),s=p(o,n.notes[t],function(e){return e.name},function(e){return u(Corridor.Music.tokenToAbsoluteNote(g(e.tokens)),n.clefs[t])}),i={};return i[o.token]="#3498DB",e(function(e,n){e({question:"Select the displayed note's notation",display:[{piano:{start:"c/"+o.octave,length:13,highlights:i}}],answer:{select:{notations:s.choices,correct:s.correct}}})})}function a(n){var t=Math.floor(Math.random()*n.clefs.length),o=m(n.notes[t]),s=Math.floor(Math.random()*o.tokens.length);return e(function(e,i){e({question:"Play the displayed note",display:[{notation:u(Corridor.Music.tokenToAbsoluteNote(o.tokens[s]),n.clefs[t])}],answer:{play:[o],exact:!0}})})}function c(e){var t=h(e.files),o=e.folder+t;return n.get(o).then(function(e){var n=(new Corridor.MusicXMLParser).parse(e.data),t=n&&n.parts||[];y(t);for(var o=[],s=0;s<t.length;s++)o.push(f(t[s]));var i=Math.floor(Math.random()*t.length);return{question:"Select the correct notation",display:[{counting:t[i]}],answer:{select:{notations:o,correct:i}}}})}function l(e){var t=h(e.files),o=e.folder+t;return n.get(o).then(function(e){var n=(new Corridor.MusicXMLParser).parse(e.data),t=n&&n.parts||[];y(t);for(var o=[],s=0;s<t.length;s++)o.push(f(t[s]));var i=Math.floor(Math.random()*t.length);return{question:"Select the correct notation",display:[{notation:o[i]}],answer:{select:{countings:t,correct:i}}}})}function d(e){var t=h(e.files),o=e.folder+t;return n.get(o).then(function(e){var n=(new Corridor.MusicXMLParser).parse(e.data),t=n&&n.parts||[];y(t);for(var o=[],s=0;s<t.length;s++)o.push(f(t[s]));var i=Math.floor(Math.random()*t.length);return{question:"Select the correct notation",display:[{player:{parts:[t[i]]}}],answer:{select:{notations:o,correct:i}}}})}function u(e,n){var t=(e.name,new VF.StaveNote({keys:[e.token],duration:"w",clef:n,auto_stem:!0}));return{staves:[{clef:n,measures:[{notes:[t]}]}],time:[4,4],key:"C",accidentals:!0}}function f(e){for(var n=[],t=0;t<e.staves.length;t++){var o=e.staves[t];n[t]={clef:o.clef,measures:[]};for(var s=0;s<o.measures.length;s++){var i=o.measures[s];n[t].measures.push({notes:[]});for(var r=0;r<i.notes.length;r++){var a=i.notes[r];n[t].measures[s].notes.push(new VF.StaveNote({keys:[a.token],duration:a.duration,clef:o.clef,auto_stem:!0}))}}}return{staves:n,time:e.time,key:e.key,accidentals:!0}}function p(e,n,t,o){var s=[],i={},r=t(e);for(s.push(r),i[r]=e;s.length<3;){var a=Corridor.Music.tokenToAbsoluteNote(g(n)),c=t(a);s.indexOf(c)<0&&e.accidental==a.accidental&&(s.push(c),i[c]=a)}y(s);for(var l=[],d=0;d<s.length;d++){var a=i[s[d]];l.push(o(a))}return{choices:l,correct:s.indexOf(r)}}function v(){x=[]}function m(e){for(var n=void 0;void 0===n;)n=g(e),x.indexOf(n)>=0&&(n=void 0);return x=[n],Corridor.Music.tokenToAbsoluteNote(n)}function h(e){for(var n=void 0;void 0===n;)n=g(e),x.indexOf(n)>=0&&(n=void 0);return x=[n],n}function g(e){return e[Math.floor(Math.random()*e.length)]}function y(e){var n,t,o;for(o=e.length;o;o--)n=Math.floor(Math.random()*o),t=e[o-1],e[o-1]=e[n],e[n]=t}var b=this;b.generator=function(n,u){var f=[],p=new Corridor.AsyncProcessor;return p.maxRetryCount=Corridor.AsyncProcessor.RETRY_NO_LIMIT,p.process=function(u){var f=n[Math.floor(Math.random()*n.length)];return"s-piano-n"==f.type?t(f):"s-name-p"==f.type?o(f):"s-staff-n"==f.type?s(f):"s-name-o"==f.type?i(f):"s-piano-o"==f.type?r(f):"s-staff-p"==f.type?a(f):"s-count-o"==f.type?c(f):"s-staff-c"==f.type?l(f):"h-count-o"==f.type?d(f):e(function(e,n){e({})})},p.progress=function(e,n,t){t==Corridor.AsyncProcessor.SUCCESS&&f.push(n)},p.generate=function(){return e(function(e,n){p.complete=function(t){t==Corridor.AsyncProcessor.SUCCESS?e(f):n()},v();for(var t=[],o=0;o<u;o++)t.push("");p.processKeys(t)})},p};var x=[]}angular.module("app.lesson").service("GameGenerator",e),e.$inject=["$q","$http"]}()},function(e,n){!function(){"use strict";function e(e){var n=this;n.state=e,n.groups=Corridor.LessonGroups}angular.module("app.lesson").controller("LessonListController",e),e.$inject=["State"]}()},function(e,n){!function(){"use strict";function e(e,n){var t=this;t.state=n,t.lesson=Corridor.LessonsByID[e.params.lessonId],t.quit=function(){e.go("dashboard.lesson-list")},t["continue"]=function(){t.lesson.next&&e.go("dashboard.lesson",{lessonId:t.lesson.next.id})}}angular.module("app.lesson").controller("LessonRecapController",e),e.$inject=["$state","State"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{lesson:"="},template:t(65),controller:n,controllerAs:"vm"}}function n(e,n){var t=this;t.state=n,t.lesson=e.lesson,t.stars=0}angular.module("app.lesson").directive("cmLessonScore",e),n.$inject=["$scope","State"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{group:"="},template:t(66),controller:n,controllerAs:"vm"}}function n(e,n){var t=this;t.state=n,t.group=e.group}angular.module("app.lesson").directive("cmLessonSelection",e),n.$inject=["$scope","State"]}()},function(e,n){!function(){"use strict";function e(){return{restrict:"E",scope:{type:"@"},link:n}}function n(e,n,t){function o(e){return"see-it-name-it"==e?"See it. Name it.":"see-it-play-it"==e?"See it. Play it.":"hear-it-name-it"==e?"Hear it. Name it.":"review"==e?"Review":""}n.append(o(e.type))}angular.module("app.lesson").directive("cmLessonType",e)}()},function(e,n){!function(){"use strict";function e(e,n,t,o,s,i,r){function a(e){f.onScreenKeyboardOptions={start:"c/"+(e-1),length:37,height:140,widthToHeightRatio:.32,highlights:{"c/4":"#FFFAE6"},labels:{"c/0":"C0","c/1":"C1","c/2":"C2","c/3":"C3","c/4":"C4","c/5":"C5","c/6":"C6","c/7":"C7","c/8":"C8"},labelFontSize:"11px",labelFontWeight:"700",labelFill:"#C0C0C0",onNotePress:function(e){c(e,"screen")},onNoteRelease:function(e){l(e,"screen")}}}function c(e,n){if(!v[e.value]){var t=o.triggerAttack(e);v[e.value]={source:n,id:t},d(e)}}function l(e,n){var t=v[e.value];t&&t.source==n&&(o.triggerRelease(t.id),delete v[e.value])}function d(e){if(!(f.correct>=0)){var n=f.games[f.progress];if(n.answer.play){if(n.answer.play.length>1){for(var t=0;t<f.played.length;t++){var o=f.played[t];if(o.value==e.value)return}f.played.push(e),f.played.sort(function(e,n){return e.value-n.value})}else f.played=[e];f.reflection=u(f.played)}}}function u(e,n){var t=48,o=Math.min(t,e[0].value),s=Math.max(t-1,e[e.length-1].value);for(n&&(o=Math.min(o,n[0].value),s=Math.max(s,n[n.length-1].value)),o=12*Math.floor(o/12),s+=1;s-o<12;)s+=1;Corridor.Music.valueToAbsoluteNote(s).accidental&&(s+=1);for(var i=n?"#F8C9C4":"#3498DB",r={"c/4":"#FFFAE6"},a=0;a<e.length;a++)r[e[a].token]=i;if(n)for(var a=0;a<n.length;a++)r[n[a].token]="#A8EBC4";return{start:Corridor.Music.valueToAbsoluteNote(o).token,length:s-o+1,highlights:r,labels:{"c/0":"C0","c/1":"C1","c/2":"C2","c/3":"C3","c/4":"C4","c/5":"C5","c/6":"C6","c/7":"C7","c/8":"C8"},labelFontSize:"14px",labelFontWeight:"700",labelFill:"#C0C0C0"}}var f=this;f.state=t,f.lesson=Corridor.LessonsByID[n.params.lessonId],f.games=void 0,f.progress=0,f.percentage=0,f.selected=-1,f.played=[],f.reflection={start:"c/4",length:13},f.correct=-1,f.answer=void 0;var p=s.generator(f.lesson.games,10);p.generate().then(function(e){f.games=e}),f.quit=function(){n.go("dashboard.lesson-list")},f.selectAnswer=function(e){f.correct>=0||(f.selected=e)},f.checkAnswer=function(){f.percentage=(f.progress+1)/f.games.length*100;var e=f.games[f.progress];if(e.answer.select)f.select=e.answer.select,f.selected==e.answer.select.correct?f.correct=1:(f.correct=0,f.answer=e.answer.select.correct);else if(e.answer.play){for(var n=e.answer.exact?function(e){return e.value}:function(e){return e.id},t=e.answer.play.map(n),o=f.played.map(n),s=t.length==o.length,i=0;i<t.length&&s;i++)s=o.indexOf(t[i])>=0;f.correct=s;var r={};if(e.answer.exact&&1==e.answer.play.length){var a=e.answer.play[0],c=f.played[0];r.wrongOctave=Math.floor(a.value/12)!=Math.floor(c.value/12)}f.answer=r;var l=f.played;if(!e.answer.exact){var d=Math.floor(e.answer.play[0].value/12),p=12*(Math.floor(f.played[0].value/12)-d);l=f.played.map(function(e){return Corridor.Music.valueToAbsoluteNote(e.value-p)})}f.reflection=u(l,e.answer.play)}},f.nextQuestion=function(){return f.progress==f.games.length-1?void n.go("dashboard.lesson-recap",{lessonId:n.params.lessonId}):(f.progress=f.progress+1,f.selected=-1,f.played=[],f.reflection={start:"c/4",length:13},f.correct=-1,void(f.answer=void 0))},f.onScreenKeyboardIsCollapsed=t.onScreenKeyboardIsCollapsed,f.onScreenKeyboardOctave=4,f.onScreenKeyboardOptions={},a(f.onScreenKeyboardOctave),f.shiftOnScreenKeyboard=function(e){f.onScreenKeyboardOctave=Math.max(2,Math.min(5,f.onScreenKeyboardOctave+e)),a(f.onScreenKeyboardOctave)},f.setOnScreenKeyboardIsCollapsed=function(e){f.onScreenKeyboardIsCollapsed=t.onScreenKeyboardIsCollapsed=e},i.onKeyPress=function(n,t){if(t>=0){var o=Corridor.Music.valueToAbsoluteNote(12*f.onScreenKeyboardOctave+t);e.$apply(function(){c(o,"keyboard")})}else if("enter"==n)f.correct>=0?e.$apply(function(){f.nextQuestion()}):(f.selected>=0||f.played.length>0)&&e.$apply(function(){f.checkAnswer()});else if(["=","+","-"].indexOf(n)>=0)switch(n){case"=":case"+":e.$apply(function(){f.shiftOnScreenKeyboard(1)});break;case"-":e.$apply(function(){f.shiftOnScreenKeyboard(-1)})}else if(f.games[f.progress].answer.select)switch(n){case"1":e.$apply(function(){f.selectAnswer(0)});break;case"2":e.$apply(function(){f.selectAnswer(1)});break;case"3":e.$apply(function(){f.selectAnswer(2)})}},i.onKeyRelease=function(e,n){var t=Corridor.Music.valueToAbsoluteNote(12*f.onScreenKeyboardOctave+n);l(t,"keyboard")},r.onKeyPress=function(n,t){var o=Corridor.Music.valueToAbsoluteNote(n);e.$apply(function(){c(o,"midi")})},r.onKeyRelease=function(e){var n=Corridor.Music.valueToAbsoluteNote(e);l(n,"midi")},e.$on("$destroy",function(){p.cancel(),i.onKeyPress=void 0,i.onKeyRelease=void 0,r.onKeyPress=void 0,r.onKeyRelease=void 0,o.releaseAll()});var v={}}angular.module("app.lesson").controller("LessonController",e),e.$inject=["$scope","$state","State","Audio","GameGenerator","Keyboard","MIDI"]}()},function(e,n){!function(){"use strict";angular.module("app.lesson",[])}()},function(e,n){!function(){"use strict";function e(){return{restrict:"E",scope:{name:"@"},link:n}}function n(e,n,t){function o(e){var n=e.charAt(0).toUpperCase(),t=e.substring(1).replace("#",Corridor.Music.SHARP).replace("b",Corridor.Music.FLAT);return t.length>0&&(n=n+'<span class="name accidental">'+t+"</span>"),n}n.append(o(e.name))}angular.module("app.lesson").directive("cmName",e)}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(68),controller:o,controllerAs:"vm",link:n}}function n(e,n,t,o){for(var s=n.find("svg"),i=new VF.Renderer(s[0],VF.Renderer.Backends.SVG),r=i.getContext(),a=(e.options&&e.options.size||{},e.options&&e.options.time),c=e.options&&e.options.key||"C",l=e.options&&e.options.accidentals||!0,d=0,u=0,f=2,p=0,v=e.options&&e.options.staves||[],m=0;m<v.length;m++)for(var h=v[m],g=h.measures||[],y=0;y<g.length;y++){var b=g[y],x=new VF.Voice({num_beats:a&&a[0]||"4",beat_value:a&&a[1]||"4"}).setMode(VF.Voice.Mode.SOFT).addTickables(b.notes);l&&VF.Accidental.applyAccidentals([x],c);var w=VF.Beam.applyAndGetBeams(x),_=(new VF.Formatter).joinVoices([x]);_.preCalculateMinTotalWidth([x]);var C=_.getMinTotalWidth(),I=new VF.Stave(f,p,C,{space_above_staff_ln:2,space_below_staff_ln:2});0==y&&(h.clef&&I.addClef(h.clef),a&&I.addTimeSignature(a[0]+"/"+a[1])),C=C+(0==y?I.getNoteStartX():0)+25,I.setWidth(C),I.setContext(r).draw(),_.formatToStave([x],I),x.setStave(I).draw(r,I);for(var m=0;m<w.length;m++)w[m].setContext(r).draw();f+=C,d=f+2,u=I.getHeight()+I.getSpacingBetweenLines()}s.attr("viewBox","0 0 "+d+" "+u)}function o(e){}angular.module("app.lesson").directive("cmNotation",e),o.$inject=["$scope"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(69),controller:n,controllerAs:"vm"}}function n(e,n){function t(){var n=e.options&&e.options.start&&Corridor.Music.tokenToAbsoluteNote(e.options.start)||Corridor.Music.componentsFromToken("c/4"),t=e.options&&e.options.length||12,r=e.options&&e.options.labels||{},a=e.options&&e.options.labelFontSize||"9px",f=e.options&&e.options.labelFontWeight||"400",p=e.options&&e.options.labelFill||"#000000",v=e.options&&e.options.highlights||{},m=e.options&&e.options.widthToHeightRatio||o,h=c*m,g=h*s,y=g/2,b={};for(var x in r){var w=Corridor.Music.tokenToAbsoluteNote(x);b[w.value]=r[x]}var _={};for(var x in v){var w=Corridor.Music.tokenToAbsoluteNote(x);_[w.value]=v[x]}for(var C=0,I=[],M=[],k=0;k<t;k++){var w=Corridor.Music.valueToAbsoluteNote(n.value+k);0==k&&w.accidental&&(C=y-h),k>=1&&!w.accidental&&(C+=h);var A=w.accidental?C+h-y:C,S=A+(w.accidental?g:h),T=0,E=T+(w.accidental?l:c);k==t-1&&w.accidental&&(C+=y);var O={x_min:A,x_max:S,y_min:T,y_max:E},P=_[w.value]?_[w.value]:w.accidental?"#dddddd":"#ffffff",L={note:w,order:(w.accidental?2e3:1e3)+k,bounds:O,path:i(O,"#000000",P)};I.push(L);var $=b[w.value];if(""===$&&($=w.display),$){var D={x:A+(S-A)/2,y:E-10,style:"font-family: CoreSans-CR; font-size: "+a+"; font-weight: "+f+"; fill: "+p+";",text:$};M.push(D)}}I.sort(function(e,n){return e.order-n.order}),u.paths=I,u.texts=M;var O=d(I);u.bounds=""+O.x_min+" "+O.y_min+" "+(O.x_max-O.x_min)+" "+(O.y_max-O.y_min),e.options&&e.options.height?(u.height=e.options.height,u.width=e.options.height*(O.x_max-O.x_min)/(O.y_max-O.y_min)):e.options&&e.options.width&&(u.width=e.options.width,u.height=e.options.width*(O.y_max-O.y_min)/(O.x_max-O.x_min))}function i(e,n,t){var o=e;return{d:"M "+o.x_min+" "+o.y_min+" L "+o.x_min+" "+o.y_max+" L "+o.x_max+" "+o.y_max+" L "+o.x_max+" "+o.y_min+" Z",stroke:n,strokeWidth:r,fill:t}}function d(e){for(var n=1e7,t=-1e7,o=1e7,s=-1e7,i=0;i<e.length;i++){var r=e[i].bounds;r.x_min<n&&(n=r.x_min),r.x_max>t&&(t=r.x_max),r.y_min<o&&(o=r.y_min),r.y_max>s&&(s=r.y_max)}return{x_min:n-a,y_min:o-a,x_max:t+a,y_max:s+a}}var u=this;e.$watch(function(){return e.options},t);var f=e.options&&e.options.onNotePress||function(){},p=e.options&&e.options.onNoteRelease||function(){},v=void 0;u.onMouseDown=function(e){v||(v=e.note,f(e.note))},u.onMouseUp=function(e){v&&(p(v),n(function(){v=void 0},100))}}angular.module("app.lesson").directive("cmPiano",e);var o=.25,s=.75,i=.65,r=1,a=r/2,c=100,l=c*i;n.$inject=["$scope","$timeout"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(70),controller:n,controllerAs:"vm"}}function n(e,n,t){var o=this;o.parts=e.options&&e.options.parts||[],o.playing=!1,o.play=function(){for(var e=0;e<o.parts.length;e++){var n=o.parts[e];t.schedulePart(n)}t.play(),o.playing=!0},n(function(){o.play()},500),o.stop=function(){t.stopAndCancel(),o.playing=!1},e.$on("$destroy",function(){t.stopAndCancel(),Tone.Transport.off("playback-complete")}),Tone.Transport.on("stop",function(){e.$apply(function(){o.playing=!1})})}angular.module("app.lesson").directive("cmPlayer",e),n.$inject=["$scope","$timeout","Audio"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{level:"="},template:t(71),controller:n,controllerAs:"vm"}}function n(e){var n=this;n.level=e.level}angular.module("app.lesson").directive("cmTutorial",e),n.$inject=["$scope"]}()},function(e,n){!function(){"use strict";function e(e,n,t,o){var s=this;s.view=0,s.user={},s.loading=!1,s.transitionToView=function(e){s.user={},s.view=e},s.login=function(){return s.loading=!0,o.login(s.user.email,s.user.password).then(function(){s.loading=!1})["catch"](function(e){s.loading=!1,n.error("Sorry, there was a problem logging in.")})},s.register=function(){return s.loading=!0,o.register(s.user.email,s.user.password,s.user.name).then(function(){s.loading=!1})["catch"](function(e){s.loading=!1,n.error("Sorry, there was a problem signing up.")})},s.resetPassword=function(){s.loading=!0,t.session.userResetPassword(s.user.email).then(function(){s.loading=!0,n.success("Your password reset e-mail has been sent. Check your e-mail for instructions."),s.transitionToView(0)})["catch"](function(e){s.loading=!1,n.error("Sorry, there was a problem resetting your password.")})}}angular.module("app.login").controller("LoginController",e),e.$inject=["$scope","toastr","API","State"]}()},function(e,n){!function(){"use strict";angular.module("app.login",[])}()},function(e,n,t){t(57)},function(e,n){Corridor=Corridor||{},Corridor.API_URL="https://api-test.corridormusic.com/",Corridor.OAUTH_CLIENT_BASE_64=btoa("corridor-web:f8fb1828-142a-44c6-81d9-8e81ec3beece")},,,,,,,,function(e,n){},,,,function(e,n){e.exports='<div class="container dashboard">\n    <nav class="navbar navbar-default navbar-fixed-top">\n        <div class="container">\n            <h1 class="w1-fg">Corridor</h1>\n            <a class="btn btn-info pull-right" role="button" data-ng-click="vm.logout()">Logout</a>\n        </div>\n    </nav>\n\n    <div ui-view="dashboard-body"></div>\n</div>\n'},function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"\n    cm-view-box="{{ vm.bounds }}"\n    data-ng-attr-width="{{ vm.width ? vm.width : \'100%\' }}"\n    data-ng-attr-height="{{ vm.height ? vm.height : \'100%\' }}">\n\n    <text data-ng-repeat="text in vm.texts"\n        data-ng-attr-x="{{ text.x }}"\n        data-ng-attr-y="{{ text.y }}"\n        data-ng-attr-style="{{ text.style }}"\n        text-anchor="middle"\n        alignment-baseline="middle">\n        {{ text.text }}\n    </text>\n</svg>\n'},function(e,n){e.exports='<div class="col-sm-8 col-xs-12">\n    <div class="card">\n        <h1 class="card-title">Lessons</h1>\n        <div class="lesson-list">\n            <div data-ng-repeat="group in vm.groups" class="clearfix">\n                <div class="lesson-group-name">\n                    <a href="" class="title" data-ng-click="vm.state.expandedGroup = group.id">{{ group.name }}</a>\n                </div>\n                <cm-lesson-selection group="group" data-ng-hide="vm.state.expandedGroup !== group.id"></cm-lesson-selection>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="col-sm-4 hidden-xs">\n    <div class="card">\n        <h1 class="card-title">Overview</h1>\n        <div class="card-body">\n            <p>This is a summary of how you\'re doing</p>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="col-sm-12 card lesson-recap">\n    <div class="row">\n        <div class="col-sm-12 header">\n            <h1>Lesson complete!</h1>\n            <p>Here\'s a look at how you did:</p>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-6 col-xs-12">\n            Cool progress report.\n        </div>\n        <div class="col-sm-6 col-xs-12">\n            Some kind of graph.\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12 footer">\n            <div class="row">\n                <div class="col-xs-6">\n                    <button class="btn btn-info" data-ng-click="vm.quit()">\n                        I\'m Done\n                    </button>\n                </div>\n                <div class="col-xs-6">\n                    <button class="btn btn-primary pull-right" data-ng-disabled="!vm.lesson.next" data-ng-click="vm.continue()">\n                        Next Lesson\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="lesson-score">\n    <svg width="100%" height="100%" viewBox="0 0 300 100" preserveAspectRatio="xMidYMid meet">\n        <g transform="translate(0, 0)">\n            <path\n                d="m 50,12 -13.3334,23.75 -26.6666,5.6999 19.0476,19.00012 -3.8094,27.55 24.7618,-11.4 24.761999,11.4 -3.8096,-27.55 19.047597,-19.00012 -26.666597,-5.6999 -13.3334,-23.75 z"\n                fill="#000000"\n                stroke="#ff0000"\n                stroke-width="5"\n                class="star"\n                data-ng-class="{ filled: vm.stars >= 1 }">\n            </path>\n        </g>\n        <g transform="translate(100, 0)">\n            <path\n                d="m 50,12 -13.3334,23.75 -26.6666,5.6999 19.0476,19.00012 -3.8094,27.55 24.7618,-11.4 24.761999,11.4 -3.8096,-27.55 19.047597,-19.00012 -26.666597,-5.6999 -13.3334,-23.75 z"\n                fill="#000000"\n                stroke="#ff0000"\n                stroke-width="5"\n                class="star"\n                data-ng-class="{ filled: vm.stars >= 2 }">\n            </path>\n        </g>\n        <g transform="translate(200, 0)">\n            <path\n                d="m 50,12 -13.3334,23.75 -26.6666,5.6999 19.0476,19.00012 -3.8094,27.55 24.7618,-11.4 24.761999,11.4 -3.8096,-27.55 19.047597,-19.00012 -26.666597,-5.6999 -13.3334,-23.75 z"\n                fill="#000000"\n                stroke="#ff0000"\n                stroke-width="5"\n                class="star"\n                data-ng-class="{ filled: vm.stars >= 3 }">\n            </path>\n        </g>\n    </svg>\n</div>\n'},function(e,n){e.exports='<div class="lesson-selection row">\n    <div class="col-sm-4 box {{ status.enabled ? \'enabled\' : \'disabled\' }}" data-ng-repeat="lesson in vm.group.lessons" data-ng-init="status = vm.state.status[lesson.id]">\n        <a class="{{ lesson.type }}" data-ui-sref="dashboard.lesson({ lessonId: lesson.id})">\n            <div class="header">\n                <div class="level">Level {{ lesson.level }}</div>\n                <div class="description">{{ lesson.description }}</div>\n            </div>\n            <div class="body">\n                <cm-lesson-score lesson="lesson"></cm-lesson-score>\n            </div>\n            <div class="footer">\n                <div class="type"><cm-lesson-type type="{{ lesson.type }}"></cm-lesson-type></div>\n            </div>\n        </a>\n        <div class="overlay" data-ng-if="!status.enabled"><div class="dim"></div></div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="col-sm-12 card lesson">\n    <div class="row">\n        <div class="col-sm-12 header">\n            <div class="row">\n                <div class="col-sm-2 col-xs-3 text-center">\n                    <button class="btn btn-info" data-ng-click="vm.quit()">Quit</button>\n                </div>\n                <div class="col-sm-8 col-xs-9">\n                    <uib-progressbar class="progress-striped" value="vm.percentage"></uib-progressbar>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div data-ng-if="!vm.games">\n        <div class="col-sm-12 loading">\n            <div class="vertical-center-container text-center"><div class="vertical-center-content value">\n                <h1>Loading</h1>\n            </div></div>\n        </div>\n    </div>\n\n    <div data-ng-repeat="game in vm.games" data-ng-if="vm.progress == $index">\n        <div class="row">\n            <div class="col-sm-12 question">{{ game.question }}</div>\n        </div>\n        <div class="vertical-center-container">\n            <div class="vertical-center-content left">\n                <div class="display">\n                    <div data-ng-repeat="display in game.display">\n                        <cm-piano data-ng-if="display.piano" options="display.piano"></cm-piano>\n                        <cm-notation data-ng-if="display.notation" options="display.notation"></cm-notation>\n                        <cm-counting data-ng-if="display.counting" options="display.counting"></cm-counting>\n                        <cm-name data-ng-if="display.name" name="{{ display.name }}"></cm-name>\n                        <cm-player data-ng-if="display.player" options="display.player"></cm-player>\n                    </div>\n                </div>\n            </div>\n            <div class="vertical-center-content right">\n                <div class="answer">\n                    <div class="select" data-ng-if="game.answer.select" data-ng-init="select = game.answer.select">\n                        <div class="name-list" data-ng-if="select.names">\n                            <a href="" class="name"\n                                data-ng-class="{ active: vm.selected == $index, correct: (vm.correct == 1 && vm.selected == $index) || vm.answer == $index, incorrect: vm.correct == 0 && vm.selected == $index }"\n                                data-ng-repeat="name in select.names"\n                                data-ng-click="vm.selectAnswer($index)">\n\n                                <div class="vertical-center-container text-center"><div class="vertical-center-content value">\n                                    <cm-name name="{{ name }}"></cm-name>\n                                </div></div>\n                            </a>\n                        </div>\n                        <div class="notation-list" data-ng-if="select.notations">\n                            <a href="" class="notation"\n                                data-ng-class="{ active: vm.selected == $index, correct: (vm.correct == 1 && vm.selected == $index) || vm.answer == $index, incorrect: vm.correct == 0 && vm.selected == $index }"\n                                data-ng-repeat="notation in select.notations"\n                                data-ng-click="vm.selectAnswer($index)">\n\n                                <cm-notation options="notation"></cm-notation>\n                            </a>\n                        </div>\n                        <div class="counting-list" data-ng-if="select.countings">\n                            <a href="" class="counting"\n                                data-ng-class="{ active: vm.selected == $index, correct: (vm.correct == 1 && vm.selected == $index) || vm.answer == $index, incorrect: vm.correct == 0 && vm.selected == $index }"\n                                data-ng-repeat="counting in select.countings"\n                                data-ng-click="vm.selectAnswer($index)">\n\n                                <cm-counting options="counting"></cm-counting>\n                            </a>\n                        </div>\n                    </div>\n                    <div data-ng-if="game.answer.play">\n                        <div class="play-instruction">\n                            Play the answer on a connected MIDI keyboard, your computer\'s keyboard, or use the\n                            <a href="" data-ng-click="vm.setOnScreenKeyboardIsCollapsed(false)">on-screen keyboard</a>.\n                        </div>\n                        <cm-piano options="vm.reflection"></cm-piano>\n                        <div class="play-error" data-ng-if="vm.answer.wrongOctave">\n                            The note you played was in the wrong octave.\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-sm-12 footer" data-ng-class="{ correct: vm.correct == 1, incorrect: vm.correct == 0 }">\n            <div class="row">\n                <div class="col-xs-10">\n                    <div class="explanation correct" data-ng-if="vm.correct == 1">\n                        <img src="static/img/lesson/correct.png"></img>\n                        <h1>Correct!</h1>\n                    </div>\n                    <div class="explanation incorrect" data-ng-if="vm.correct == 0" data-ng-init="game = vm.games[vm.progress]">\n                        <img src="static/img/lesson/incorrect.png"></img>\n                        <h1>Incorrect</h1>\n                    </div>\n                </div>\n                <div class="col-xs-2">\n                    <button class="btn btn-primary pull-right"\n                        data-ng-if="vm.correct == -1"\n                        data-ng-disabled="vm.selected < 0 && vm.played.length <= 0"\n                        data-ng-click="vm.checkAnswer()">\n                        Check Answer\n                    </button>\n\n                    <button class="btn btn-primary pull-right"\n                        data-ng-if="vm.correct >= 0"\n                        data-ng-click="vm.nextQuestion()">\n                        Continue\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="col-sm-12 on-screen-keyboard" data-ng-class="{ collapsed: vm.onScreenKeyboardIsCollapsed }">\n    <div class="buffer"></div>\n    <div class="keyboard float-bottom">\n        <div class="keyboard-options vertical-center-container">\n            <div class="vertical-center-content">\n                <div class="container">\n                    <div class="vertical-center-container">\n                        <div class="vertical-center-content text-left octave">\n                            <div style="display: inline-block;">\n                                <span class="octave-label">Octave:</span>\n                                <span class="octave-display">C{{ vm.onScreenKeyboardOctave }}</span>\n                            </div>\n                            <a href="" class="btn btn-info" data-ng-click="vm.shiftOnScreenKeyboard(-1)">-</a>\n                            <a href="" class="btn btn-info" data-ng-click="vm.shiftOnScreenKeyboard(1)">+</a>\n                        </div>\n                        <div class="vertical-center-content text-right">\n                            <a href="" data-ng-click="vm.setOnScreenKeyboardIsCollapsed(!vm.onScreenKeyboardIsCollapsed)">{{ vm.onScreenKeyboardIsCollapsed ? \'Open Keyboard\' : \'Close Keyboard\' }}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="keyboard-container">\n            <cm-piano options="vm.onScreenKeyboardOptions"></cm-piano>\n        </div>\n    </div>\n</div>\n';
},function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 300 125" preserveAspectRatio="xMidYMid meet">\n</svg>\n'},function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"\n    cm-view-box="{{ vm.bounds }}"\n    data-ng-attr-width="{{ vm.width ? vm.width : \'100%\' }}"\n    data-ng-attr-height="{{ vm.height ? vm.height : \'100%\' }}">\n\n    <a href=""\n        data-ng-mousedown="vm.onMouseDown(element)"\n        data-ng-mouseup="vm.onMouseUp(element)"\n        ng-touchstart="vm.onMouseDown(element)"\n        ng-touchend="vm.onMouseUp(element)"\n        data-ng-repeat="element in vm.paths"\n        data-ng-init="path = element.path">\n\n        <path\n            data-ng-attr-d="{{ path.d }}"\n            data-ng-attr-stroke="{{ path.stroke }}"\n            data-ng-attr-stroke-width="{{ path.strokeWidth }}"\n            data-ng-attr-fill="{{ path.fill }}">\n        </path>\n    </a>\n\n    <text data-ng-repeat="text in vm.texts"\n        data-ng-attr-x="{{ text.x }}"\n        data-ng-attr-y="{{ text.y }}"\n        data-ng-attr-style="{{ text.style }}"\n        text-anchor="middle">\n        {{ text.text }}\n    </text>\n</svg>\n'},function(e,n){e.exports='<div>\n    <a href="" data-ng-if="!vm.playing" data-ng-click="vm.play()">\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path d="M16,0.5C16,0.5,16,0.5,16,0.5C11.9,0.5,8,2.1,5,5C2.1,8,0.5,11.9,0.5,16c0,8.5,7,15.5,15.5,15.5c0,0,0,0,0,0  c4.1,0,8-1.6,11-4.5c2.9-2.9,4.5-6.8,4.5-11C31.5,7.5,24.5,0.5,16,0.5z M21.1,17.5l-6.9,4.4c-0.3,0.2-0.6,0.3-1,0.3  c-1,0-1.8-0.8-1.8-1.8v-8.8c0-1,0.8-1.8,1.8-1.8c0.3,0,0.7,0.1,1,0.3l6.9,4.4c0.5,0.3,0.8,0.9,0.8,1.5  C21.9,16.6,21.6,17.2,21.1,17.5z"></path></svg>\n    </a>\n    <a href="" data-ng-if="vm.playing" data-ng-click="vm.stop()">\n        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve"><path d="M16,0.5C7.4,0.5,0.5,7.4,0.5,16c0,8.6,6.9,15.5,15.5,15.5c8.6,0,15.5-6.9,15.5-15.5C31.5,7.4,24.6,0.5,16,0.5z M20.9,19.8  c0,0.6-0.5,1.1-1.1,1.1h-7.6c-0.6,0-1.1-0.5-1.1-1.1v-7.6c0-0.6,0.5-1.1,1.1-1.1h7.6c0.6,0,1.1,0.5,1.1,1.1V19.8z"></path></svg>\n    </a>\n</div>\n'},function(e,n){e.exports='<div class="row">\n    <div class="col-sm-12" data-ng-repeat="section in level.sections">\n        <div data-ng-if="section.type == \'piano\'">\n            <cm-piano options="section.options"></cm-piano>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="container-fluid">\n    <div class="login center-block">\n        <div class="row text-center">\n            <div class="logo">Corridor</div>\n        </div>\n\n        <div class="row text-center">\n            <form name="form" class="center-block" data-ng-if="vm.view == 0" data-ng-submit="vm.login()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        required>\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\' : form.password.$invalid && form.password.$touched }">\n                    <input type="password" name="password" class="form-control" placeholder="Password"\n                        data-ng-model="vm.user.password"\n                        data-ng-trim="true"\n                        data-ng-minlength="8"\n                        data-ng-required="true">\n                </div>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Login</button>\n                <a href="" data-ng-click="vm.transitionToView(2)">Forgot your password?</a>\n            </form>\n            <form name="form" class="center-block" data-ng-if="vm.view == 1" data-ng-submit="vm.register()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.name.$invalid && form.name.$touched }">\n                    <input type="name" name="name" class="form-control" placeholder="Name (optional)"\n                        data-ng-model="vm.user.name"\n                        data-ng-trim="true">\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        data-ng-required="true">\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\' : form.password.$invalid && form.password.$touched }">\n                    <input type="password" name="password" class="form-control" placeholder="Password (8+ characters)"\n                        data-ng-model="vm.user.password"\n                        data-ng-trim="true"\n                        data-ng-minlength="8"\n                        data-ng-required="true">\n                </div>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Sign Up</button>\n            </form>\n            <form name="form" class="center-block" data-ng-if="vm.view == 2" data-ng-submit="vm.resetPassword()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        data-ng-required="true">\n                </div>\n                <p class="text-left">Please enter the e-mail address associated with your account. You will be sent an e-mail with instructions to reset your password.</p>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Reset</button>\n            </form>\n        </div>\n\n        <div class="row text-center terms">\n            <p>By using Corridor, you agree to the<br /><a href="">Privacy Policy</a> and the <a href="">Terms of Use</a></p>\n        </div>\n\n\n        <nav class="navbar navbar-inverse navbar-fixed-bottom">\n            <div class="container text-center" data-ng-show="vm.view == 0">\n                <p>Don\'t have an account? <a href="" data-ng-click="vm.transitionToView(1)">Sign Up</a>\n            </div>\n            <div class="container text-center" data-ng-show="vm.view == 1">\n                <p>Have an account? <a href="" data-ng-click="vm.transitionToView(0)">Login</a>\n            </div>\n            <div class="container text-center" data-ng-show="vm.view == 2">\n                <p><a href="" data-ng-click="vm.transitionToView(0)">Cancel</a>\n            </div>\n        </nav>\n    </div>\n</div>\n'}]);