webpackJsonp([1],[function(e,n,t){window.Corridor=window.Corridor||{},t(42),t(26),t(41)},,,,,,,,function(e,n,t){var o,o;(function(e){!function n(e,t,i){function s(r,c){if(!t[r]){if(!e[r]){var l="function"==typeof o&&o;if(!c&&l)return o(r,!0);if(a)return a(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var u=t[r]={exports:{}};e[r][0].call(u.exports,function(n){var t=e[r][1][n];return s(t?t:n)},u,u.exports,n,e,t,i)}return t[r].exports}for(var a="function"==typeof o&&o,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e,n,t){function o(){d=!1,r.length?l=r.concat(l):u=-1,l.length&&i()}function i(){if(!d){var e=setTimeout(o);d=!0;for(var n=l.length;n;){for(r=l,l=[];++u<n;)r&&r[u].run();u=-1,n=l.length}r=null,d=!1,clearTimeout(e)}}function s(e,n){this.fun=e,this.array=n}function a(){}var r,c=n.exports={},l=[],d=!1,u=-1;c.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new s(e,n)),1!==l.length||d||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=a,c.addListener=a,c.once=a,c.off=a,c.removeListener=a,c.removeAllListeners=a,c.emit=a,c.binding=function(e){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(e){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],2:[function(e,n,t){"use strict";function o(e){var n="jazz_"+r++ +Date.now(),t=void 0,o=void 0,i=void 0;if(s.getDevice().nodejs===!0)o=new jazzMidi.MIDI;else{var l=document.createElement("object");l.id=n+"ie",l.classid="CLSID:1ACE1618-1C7D-4561-AEE1-34842AA85E90",i=l;var d=document.createElement("object");d.id=n,d.type="audio/x-jazz",l.appendChild(d),o=d;var u=document.createElement("p");u.appendChild(document.createTextNode("This page requires the "));var v=document.createElement("a");v.appendChild(document.createTextNode("Jazz plugin")),v.href="http://jazz-soft.net/",u.appendChild(v),u.appendChild(document.createTextNode(".")),d.appendChild(u);var p=document.getElementById("MIDIPlugin");p||(p=document.createElement("div"),p.id="MIDIPlugin",p.style.position="absolute",p.style.visibility="hidden",p.style.left="-9999px",p.style.top="-9999px",document.body.appendChild(p)),p.appendChild(l)}setTimeout(function(){o.isJazz===!0?t=o:i.isJazz===!0&&(t=i),void 0!==t&&(t._perfTimeZero=performance.now(),c.set(n,t)),e(t)},a)}function i(e,n){var t=null,i="input"===e?"inputInUse":"outputInUse",s=!0,a=!1,r=void 0;try{for(var l,d=c.values()[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){var u=l.value;if(u[i]!==!0){t=u;break}}}catch(v){a=!0,r=v}finally{try{!s&&d["return"]&&d["return"]()}finally{if(a)throw r}}null===t?o(n):n(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createJazzInstance=o,t.getJazzInstance=i;var s=e("./util"),a=100,r=0,c=new Map},{"./util":9}],3:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(){return new Promise(function(e,n){return void 0!==b?void e(b):"ie9"===y.getDevice().browser?void n({message:"WebMIDIAPIShim supports Internet Explorer 10 and above."}):void f.createJazzInstance(function(t){return void 0===t?void n({message:"No access to MIDI devices: browser does not support the WebMIDI API and the Jazz plugin is not installed."}):(w=t,void s(function(){l(),b=new k(x,C),e(b)}))})})}function s(e){var n=w.MidiInList(),t=w.MidiOutList(),o=n.length,i=t.length;a(0,o,"input",n,function(){a(0,i,"output",t,e)})}function a(e,n,t,o,i){if(n>e){var s=o[e++];r(t,s,function(){a(e,n,t,o,i)})}else i()}function r(e,n,t){f.getJazzInstance(e,function(o){var i=void 0,s=[n,"",""];"input"===e?(o.Support("MidiInInfo")&&(s=o.MidiInInfo(n)),i=new m.MIDIInput(s,o),x.set(i.id,i)):"output"===e&&(o.Support("MidiOutInfo")&&(s=o.MidiOutInfo(n)),i=new h.MIDIOutput(s,o),C.set(i.id,i)),t(i)})}function c(e,n){var t=void 0,o=!0,i=!1,s=void 0;try{for(var a,r=e.values()[Symbol.iterator]();!(o=(a=r.next()).done)&&(t=a.value,t.name!==n);o=!0);}catch(c){i=!0,s=c}finally{try{!o&&r["return"]&&r["return"]()}finally{if(i)throw s}}return t}function l(){w.OnDisconnectMidiIn(function(e){var n=c(x,e);void 0!==n&&(n.state="disconnected",n.close(),n._jazzInstance.inputInUse=!1,x["delete"](n.id),d(n))}),w.OnDisconnectMidiOut(function(e){var n=c(C,e);void 0!==n&&(n.state="disconnected",n.close(),n._jazzInstance.outputInUse=!1,C["delete"](n.id),d(n))}),w.OnConnectMidiIn(function(e){r("input",e,function(e){d(e)})}),w.OnConnectMidiOut(function(e){r("output",e,function(e){d(e)})})}function d(e){e.dispatchEvent(new g.MIDIConnectionEvent(e,e));var n=new g.MIDIConnectionEvent(b,e);"function"==typeof b.onstatechange&&b.onstatechange(n);var t=!0,o=!1,i=void 0;try{for(var s,a=M[Symbol.iterator]();!(t=(s=a.next()).done);t=!0){var r=s.value;r(n)}}catch(c){o=!0,i=c}finally{try{!t&&a["return"]&&a["return"]()}finally{if(o)throw i}}}function u(){x.forEach(function(e){e._jazzInstance.MidiInClose()})}function v(e,n){var t=void 0;return"input"===n?(t=_.get(e),void 0===t&&(t=y.generateUUID(),_.set(e,t))):"output"===n&&(t=I.get(e),void 0===t&&(t=y.generateUUID(),I.set(e,t))),t}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}();t.createMIDIAccess=i,t.dispatchEvent=d,t.closeAllMIDIInputs=u,t.getMIDIDeviceId=v;var f=e("./jazz_instance"),m=e("./midi_input"),h=e("./midi_output"),g=e("./midiconnection_event"),y=e("./util"),b=void 0,w=void 0,x=new Map,C=new Map,_=new Map,I=new Map,M=new Set,k=function(){function e(n,t){o(this,e),this.sysexEnabled=!0,this.inputs=n,this.outputs=t}return p(e,[{key:"addEventListener",value:function(e,n,t){"statechange"===e&&M.has(n)===!1&&M.add(n)}},{key:"removeEventListener",value:function(e,n,t){"statechange"===e&&M.has(n)===!0&&M["delete"](n)}}]),e}()},{"./jazz_instance":2,"./midi_input":4,"./midi_output":5,"./midiconnection_event":6,"./util":9}],4:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=e("./util"),a=e("./midimessage_event"),r=(e("./midiconnection_event"),e("./midi_access")),c=void 0,l=s.getDevice().nodejs,d=function(){function e(n,t){o(this,e),this.id=r.getMIDIDeviceId(n[0],"input"),this.name=n[0],this.manufacturer=n[1],this.version=n[2],this.type="input",this.state="connected",this.connection="pending",this.onstatechange=null,this._onmidimessage=null,Object.defineProperty(this,"onmidimessage",{set:function(e){this._onmidimessage=e,"function"==typeof e&&this.open()}}),this._listeners=(new Map).set("midimessage",new Set).set("statechange",new Set),this._inLongSysexMessage=!1,this._sysexBuffer=new Uint8Array,this._jazzInstance=t,this._jazzInstance.inputInUse=!0,"linux"===s.getDevice().platform&&this._jazzInstance.MidiInOpen(this.name,c.bind(this))}return i(e,[{key:"addEventListener",value:function(e,n,t){var o=this._listeners.get(e);void 0!==o&&o.has(n)===!1&&o.add(n)}},{key:"removeEventListener",value:function(e,n,t){var o=this._listeners.get(e);void 0!==o&&o.has(n)===!1&&o["delete"](n)}},{key:"dispatchEvent",value:function(e){var n=this._listeners.get(e.type);n.forEach(function(n){n(e)}),"midimessage"===e.type?null!==this._onmidimessage&&this._onmidimessage(e):"statechange"===e.type&&null!==this.onstatechange&&this.onstatechange(e)}},{key:"open",value:function(){"open"!==this.connection&&("linux"!==s.getDevice().platform&&this._jazzInstance.MidiInOpen(this.name,c.bind(this)),this.connection="open",r.dispatchEvent(this))}},{key:"close",value:function(){"closed"!==this.connection&&("linux"!==s.getDevice().platform&&this._jazzInstance.MidiInClose(),this.connection="closed",r.dispatchEvent(this),this._onmidimessage=null,this.onstatechange=null,this._listeners.get("midimessage").clear(),this._listeners.get("statechange").clear())}},{key:"_appendToSysexBuffer",value:function(e){var n=this._sysexBuffer.length,t=new Uint8Array(n+e.length);t.set(this._sysexBuffer),t.set(e,n),this._sysexBuffer=t}},{key:"_bufferLongSysex",value:function(e,n){for(var t=n;t<e.length;){if(247==e[t])return t++,this._appendToSysexBuffer(e.slice(n,t)),t;t++}return this._appendToSysexBuffer(e.slice(n,t)),this._inLongSysexMessage=!0,t}}]),e}();t.MIDIInput=d,c=function(e,n){var t=0,o=void 0,i=!1;for(o=0;o<n.length;o+=t){var s=!0;if(this._inLongSysexMessage){if(o=this._bufferLongSysex(n,o),247!=n[o-1])return;i=!0}else switch(i=!1,240&n[o]){case 0:t=1,s=!1;break;case 128:case 144:case 160:case 176:case 224:t=3;break;case 192:case 208:t=2;break;case 240:switch(n[o]){case 240:if(o=this._bufferLongSysex(n,o),247!=n[o-1])return;i=!0;break;case 241:case 243:t=2;break;case 242:t=3;break;default:t=1}}if(s){var r={};if(r.receivedTime=parseFloat(e.toString())+this._jazzInstance._perfTimeZero,i||this._inLongSysexMessage?(r.data=new Uint8Array(this._sysexBuffer),this._sysexBuffer=new Uint8Array(0),this._inLongSysexMessage=!1):r.data=new Uint8Array(n.slice(o,t+o)),l)this._onmidimessage&&this._onmidimessage(r);else{var c=new a.MIDIMessageEvent(this,r.data,r.receivedTime);this.dispatchEvent(c)}}}}},{"./midi_access":3,"./midiconnection_event":6,"./midimessage_event":7,"./util":9}],5:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=e("./util"),a=e("./midi_access"),r=function(){function e(n,t){o(this,e),this.id=a.getMIDIDeviceId(n[0],"output"),this.name=n[0],this.manufacturer=n[1],this.version=n[2],this.type="output",this.state="connected",this.connection="pending",this.onmidimessage=null,this.onstatechange=null,this._listeners=new Set,this._inLongSysexMessage=!1,this._sysexBuffer=new Uint8Array,this._jazzInstance=t,this._jazzInstance.outputInUse=!0,"linux"===s.getDevice().platform&&this._jazzInstance.MidiOutOpen(this.name)}return i(e,[{key:"open",value:function(){"open"!==this.connection&&("linux"!==s.getDevice().platform&&this._jazzInstance.MidiOutOpen(this.name),this.connection="open",a.dispatchEvent(this))}},{key:"close",value:function(){"closed"!==this.connection&&("linux"!==s.getDevice().platform&&this._jazzInstance.MidiOutClose(),this.connection="closed",a.dispatchEvent(this),this.onstatechange=null,this._listeners.clear())}},{key:"send",value:function(e,n){var t=this,o=0;return 0!==e.length&&(n&&(o=Math.floor(n-performance.now())),n&&o>1?setTimeout(function(){t._jazzInstance.MidiOutLong(e)},o):this._jazzInstance.MidiOutLong(e),!0)}},{key:"clear",value:function(){}},{key:"addEventListener",value:function(e,n,t){"statechange"===e&&this._listeners.has(n)===!1&&this._listeners.add(n)}},{key:"removeEventListener",value:function(e,n,t){"statechange"===e&&this._listeners.has(n)===!1&&this._listeners["delete"](n)}},{key:"dispatchEvent",value:function(e){this._listeners.forEach(function(n){n(e)}),null!==this.onstatechange&&this.onstatechange(e)}}]),e}();t.MIDIOutput=r},{"./midi_access":3,"./util":9}],6:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function s(e,n){o(this,s),this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=e,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.port=n,this.returnValue=!0,this.srcElement=e,this.target=e,this.timeStamp=Date.now(),this.type="statechange"};t.MIDIConnectionEvent=i},{}],7:[function(e,n,t){"use strict";function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function s(e,n,t){o(this,s),this.bubbles=!1,this.cancelBubble=!1,this.cancelable=!1,this.currentTarget=e,this.data=n,this.defaultPrevented=!1,this.eventPhase=0,this.path=[],this.receivedTime=t,this.returnValue=!0,this.srcElement=e,this.target=e,this.timeStamp=Date.now(),this.type="midimessage"};t.MIDIMessageEvent=i},{}],8:[function(e,n,t){"use strict";var o=e("./midi_access"),i=e("./util"),s=void 0;!function(){navigator.requestMIDIAccess||(i.polyfill(),navigator.requestMIDIAccess=function(){return void 0===s&&(s=o.createMIDIAccess()),s},i.getDevice().nodejs===!0&&(navigator.close=function(){o.closeAllMIDIInputs()}))}()},{"./midi_access":3,"./util":9}],9:[function(n,t,o){(function(e,n){"use strict";function t(){if(void 0!==c)return c;var n="undetected",t="undetected";if(navigator.nodejs)return n=e.platform,c={platform:n,nodejs:!0,mobile:"ios"===n||"android"===n};var o=navigator.userAgent;return o.match(/(iPad|iPhone|iPod)/g)?n="ios":-1!==o.indexOf("Android")?n="android":-1!==o.indexOf("Linux")?n="linux":-1!==o.indexOf("Macintosh")?n="osx":-1!==o.indexOf("Windows")&&(n="windows"),-1!==o.indexOf("Chrome")?(t="chrome",-1!==o.indexOf("OPR")?t="opera":-1!==o.indexOf("Chromium")&&(t="chromium")):-1!==o.indexOf("Safari")?t="safari":-1!==o.indexOf("Firefox")?t="firefox":-1!==o.indexOf("Trident")&&(t="ie",-1!==o.indexOf("MSIE 9")&&(t="ie9")),"ios"===n&&-1!==o.indexOf("CriOS")&&(t="chrome"),c={platform:n,browser:t,mobile:"ios"===n||"android"===n,nodejs:!1}}function i(){void 0===performance&&(performance={}),Date.now=Date.now||function(){return(new Date).getTime()},void 0===performance.now&&!function(){var e=Date.now();void 0!==performance.timing&&void 0!==performance.timing.navigationStart&&(e=performance.timing.navigationStart),performance.now=function(){return Date.now()-e}}()}function s(){var e=(new Date).getTime(),n=new Array(64).join("x");return n=n.replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16).toUpperCase()})}function a(e){"function"!=typeof e.Promise&&(e.Promise=function(e){this.executor=e},e.Promise.prototype.then=function(e,n){"function"!=typeof e&&(e=function(){}),"function"!=typeof n&&(n=function(){}),this.executor(e,n)})}function r(){var e=t();"ie"===e.browser?a(window):e.nodejs===!0&&a(n),i()}Object.defineProperty(o,"__esModule",{value:!0}),o.getDevice=t,o.polyfillPerformance=i,o.generateUUID=s,o.polyfillPromise=a,o.polyfill=r;var c=void 0}).call(this,n("_process"),"undefined"!=typeof e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}]},{},[8])}).call(n,function(){return this}())},function(e,n){Corridor=Corridor||{},Corridor.AsyncDataSource=function(e){var n=this;n.callback=function(e){};var t=new Corridor.AsyncProcessor;t.maxRetryCount=Corridor.AsyncProcessor.RETRY_NO_LIMIT,t.process=function(n){return e()},t.progress=function(e,t,o){o==Corridor.AsyncProcessor.SUCCESS&&n.callback&&n.callback(t)},n.refresh=function(){t.processKeys([""])},n.cancel=function(){t.cancel()}}},function(e,n){Corridor=Corridor||{},Corridor.AsyncProcessor=function(){var e=this;e.enabled=!0,e.working=!1,e.maxRetryCount=0,e.retryDelay=5,e.process=void 0,e.progress=void 0,e.complete=void 0;var n=void 0,t=void 0,o=0,i=0,s=Corridor.AsyncProcessor.SUCCESS;e.processKeys=function(o){void 0!==o&&e.enabled&&(t=o,void 0===n&&(e.working=!0,n=t,t=void 0,e.next()))},e.next=function(){if(0==n.length||n.length<=i){var o=s;return s=Corridor.AsyncProcessor.SUCCESS,i=0,n=void 0,e.working=!1,e.complete&&e.complete(o),void(void 0===n&&e.processKeys(t))}e.process?e.process(n[i]).then(function(n){e.completion(n,!0)})["catch"](function(n){e.completion(void 0,!1)}):e.completion(void 0,!0)},e.completion=function(t,a){s==Corridor.AsyncProcessor.CANCELED?e.next():a?(e.progress&&e.progress(n[i],t,Corridor.AsyncProcessor.SUCCESS),o=0,i++,e.next()):e.maxRetryCount==Corridor.AsyncProcessor.RETRY_NO_LIMIT||o<e.maxRetryCount?(e.progress&&e.progress(n[i],void 0,Corridor.AsyncProcessor.FAILED_WILL_RETRY),o++,setTimeout(function(){e.next()},1e3*e.retryDelay)):(e.progress&&e.progress(n[i],void 0,Corridor.AsyncProcessor.FAILED),s=Corridor.AsyncProcessor.FAILED,o=0,i++,e.next())},e.cancel=function(){n&&0!=n.length&&(n=[],s=Corridor.AsyncProcessor.CANCELED)}},Corridor.AsyncProcessor.SUCCESS=0,Corridor.AsyncProcessor.FAILED=1,Corridor.AsyncProcessor.FAILED_WILL_RETRY=2,Corridor.AsyncProcessor.CANCELED=3,Corridor.AsyncProcessor.RETRY_NO_LIMIT=-1},function(e,n){Corridor=Corridor||{},Corridor.Music=new function(){function e(e){var e=e.charAt(0).toUpperCase()+e.slice(1);return e.replace("#",t).replace("b",o)}var n=this,t="♯",o="♭";n.Note=function(n,t,o){var i=this;i.id=n,i.names=t,i.accidental=o,i.displays=[];for(var s=0;s<i.names.length;s++){var a=i.names[s];i.displays.push(e(a))}},n.AbsoluteNote=function(e,n,t){var o=this;o.id=e.id,o.names=e.names,o.displays=e.displays,o.accidental=e.accidental,o.octave=n,o.value=12*n+o.id,o.tokens=[];for(var i=0;i<o.names.length;i++){var t=o.names[i];o.tokens.push(t+"/"+o.octave)}var s=o.names.indexOf(t||"--");s<0&&(s=0),o.name=o.names[s],o.display=o.displays[s],o.token=o.tokens[s]},n.NOTES=[new n.Note(0,["c","c"],(!1)),new n.Note(1,["c#","db"],(!0)),new n.Note(2,["d","d"],(!1)),new n.Note(3,["d#","eb"],(!0)),new n.Note(4,["e","e"],(!1)),new n.Note(5,["f","f"],(!1)),new n.Note(6,["f#","gb"],(!0)),new n.Note(7,["g","g"],(!1)),new n.Note(8,["g#","ab"],(!0)),new n.Note(9,["a","a"],(!1)),new n.Note(10,["a#","bb"],(!0)),new n.Note(11,["b","b"],(!1))],n.NOTES_BY_NAME={};for(var i=0;i<n.NOTES.length;i++)for(var s=n.NOTES[i],a=0;a<s.names.length;a++)n.NOTES_BY_NAME[s.names[a]]=s;n.valueToAbsoluteNote=function(e){var t=n.NOTES[e%12],o=Math.floor(e/12);return new n.AbsoluteNote(t,o)},n.tokenToAbsoluteNote=function(e){var t=e.split("/"),o=t.length>0?t[0]:"c",i=n.NOTES_BY_NAME[o],s=t.length>1?t[1]:4;return new n.AbsoluteNote(i,s,o)},n.nameToAbsoluteNoteAboveAbsoluteNote=function(e,t){var o=n.NOTES_BY_NAME[e],i=o.id>=t.id?o.id-t.id:o.id-t.id+12,s=Math.floor((t.value+i)/12);return new n.AbsoluteNote(o,s,e)},n.nameToDisplay=e}},function(e,n){function t(e){if(this.options={selector:"*",mouseEvents:["click","dblclick","mousedown","mouseup"],usePolyfillIf:function(){if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;if(null!=e.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/)){var n=parseFloat(RegExp.$1);if(n<11)return!0}}return!1}},e){var n=this;$.each(e,function(e,t){n.options[e]=t})}this.options.usePolyfillIf()&&this.register_mouse_events()}t.initialize=function(e){return null==t.singleton&&(t.singleton=new t(e)),t.singleton},t.prototype.register_mouse_events=function(){$(document).on(this.options.mouseEvents.join(" "),this.options.selector,function(e){if("none"==$(this).css("pointer-events")){var n=$(this).css("display");$(this).css("display","none");var t=document.elementFromPoint(e.clientX,e.clientY);return n?$(this).css("display",n):$(this).css("display",""),e.target=t,$(t).trigger(e),!1}return!0})},$(document).ready(function(){t.initialize({})})},function(e,n){Corridor=Corridor||{},Corridor.Lessons=Corridor.Lessons||{},Corridor.LessonGroups=Corridor.LessonGroups||{},Corridor.LessonGroups[1]={id:1,name:"Note Reading",lessons:{101:{id:101,name:"Natural Notes",level:1,type:"see-it-name-it",games:[{type:"s-piano-n",starts:["c/4"],notes:["c","d","e","f","g","a","b"]}]},102:{id:102,name:"Natural Notes",level:2,type:"see-it-play-it",games:[{type:"s-name-p",notes:["c/4","d/4","e/4","f/4","g/4","a/4","b/4"]}]},103:{id:103,name:"Natural Notes",level:3,type:"see-it-name-it",games:[{type:"s-staff-n",clef:"treble",notes:["c/4","d/4","e/4","f/4","g/4","a/4","b/4"]},{type:"s-name-o",clef:"treble",notes:["c/4","d/4","e/4","f/4","g/4","a/4","b/4"]},{type:"s-piano-o",clef:"treble",notes:["c/4","d/4","e/4","f/4","g/4","a/4","b/4"]}]},104:{id:104,name:"Natural Notes",level:4,type:"see-it-play-it",games:[{type:"s-staff-p",clef:"treble",notes:["c/4","d/4","e/4","f/4","g/4","a/4","b/4"]}]}}},angular.extend(Corridor.Lessons,Corridor.LessonGroups[1].lessons)},function(e,n){!function(){"use strict";function e(e){var n=this;n.session=e;var t=function(e){return e.data};n.getUser=function(){return e.GET("users/current").then(t)}}angular.module("app.core").service("API",e),e.$inject=["Session"]}()},function(e,n){!function(){"use strict";function e(){var e=this,n=(new Tone.Freeverb).toMaster();n.dampening.value=2e4,n.wet.value=.075,n.roomSize.value=.8;for(var t=new Tone.Buffer("static/audio/piano-c4.wav"),o=[t],i=[],s={},a=0;a<8;a++){var r=new Tone.MultiPlayer(o).connect(n);r.fadeOut=.2,i.push(r)}var c=Corridor.Music.tokenToAbsoluteNote("c/4").value,l=0;e.triggerAttack=function(e){for(var n=void 0,t=0;t<i.length;t++)if("stopped"==i[t].state){n=i[t],n.playerID&&s[n.playerID]&&delete s[n.playerID];break}if(n)return n.start(0,0,0,void 0,e.value-c,1),l+=1,n.playerID=l,s[l]=n,l},e.triggerRelease=function(e){var n=s[e];return n?(n.stop(0),void delete s[e]):void console.log("Missed: "+e)},e.releaseAll=function(){for(var e in s)s[e].stop(0);s={}}}angular.module("app.core").service("Audio",e),e.$inject=[]}()},function(e,n,t){!function(){"use strict";function e(e,n){n.otherwise("/"),e.state("sell",{url:"/",views:{content:{template:t(63),controller:"SellController",controllerAs:"vm"}}}).state("login",{url:"/login",views:{content:{template:t(62),controller:"LoginController",controllerAs:"vm"}}}).state("dashboard",{"abstract":!0,url:"/dashboard",views:{content:{template:t(54),controller:"DashboardController",controllerAs:"vm"}}}).state("dashboard.lesson-list",{url:"",views:{"dashboard-body":{template:t(55),controller:"LessonListController",controllerAs:"vm"}}}).state("dashboard.lesson",{url:"/lesson/:lessonId",views:{"dashboard-body":{template:t(58),controller:"LessonController",controllerAs:"vm"}}}).state("dashboard.lesson-recap",{url:"/lesson-recap",views:{"dashboard-body":{template:t(56),controller:"LessonRecapController",controllerAs:"vm"}}})}angular.module("app.core").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}()},function(e,n){!function(){"use strict";function e(e){angular.extend(e,{positionClass:"toast-top-center"})}angular.module("app.core").config(e),e.$inject=["toastrConfig"]}()},function(e,n){!function(){"use strict";angular.module("app.core",["ngTouch","toastr","ui.bootstrap","ui.router"])}()},function(e,n){!function(){"use strict";function e(){function e(e){t.onKeyPress&&t.onKeyPress(e,o.indexOf(e))}function n(e){t.onKeyRelease&&t.onKeyRelease(e,o.indexOf(e))}for(var t=this,o=["a","w","s","e","d","f","t","g","y","h","u","j","k","o","l","p",";","'"],i=0;i<o.length;i++)!function(){var t=o[i];keyboardJS.bind(t,function(n){n.preventRepeat(),e(t)},function(e){n(t)})}()}angular.module("app.core").service("Keyboard",e),e.$inject=[]}()},function(e,n){!function(){"use strict";function e(){function e(e){var o=e.data,i=(o[0]>>4,15&o[0],240&o[0]),s=o[1],a=o[2];switch(i){case 144:n(s,a);break;case 128:t(s)}}function n(e,n){o.onKeyPress&&o.onKeyPress(e,n)}function t(e,n){o.onKeyRelease&&o.onKeyRelease(e)}var o=this,i=void 0;navigator.requestMIDIAccess().then(function(n){i=n;for(var t=i.inputs.values(),o=t.next();o&&!o.done;o=t.next())o.value.onmidimessage=e;console.log("MIDI Succeeded.")},function(e){console.log("MIDI Failed: "+e)})}angular.module("app.core").service("MIDI",e),e.$inject=[]}()},function(e,n){!function(){"use strict";function e(e){var n=this,t=function(){return Lockr.get("Session.access-token")},o=function(e){Lockr.set("Session.access-token",e)},i=function(n,o,i,s,a,r){s=s||{},a=a||{},n===e&&(a.Accept="application/json",a["Content-Type"]||(a["Content-Type"]="application/json"));var c=t();c&&!a.Authorization&&(a.Authorization="Bearer "+c);var l=Corridor.API_URL;return 0!==i.lastIndexOf("oauth/",0)&&0!==i.lastIndexOf("account/",0)&&(l+="api/1/"),l+=i,n({url:l,method:o,headers:a,params:s,data:r})},s=function(e){var t={"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+Corridor.OAUTH_CLIENT_BASE_64};return n.POST("oauth/token",{},t,e).then(function(e){if(!e.data.access_token)throw"Invalid access token";return e.data.access_token})},a=function(){return s("grant_type=client_credentials&scope=basic").then(function(e){return{Authorization:"Bearer "+e}})};n.userRegister=function(e,t,o){var i={email:e,password:t};return o&&(i.name=o),a().then(function(e){return n.POST("account/register",i,e)})},n.userResetPassword=function(e){return a().then(function(t){return n.POST("account/reset-password",{email:e},t)})},n.userIsLoggedIn=function(){return!!t()},n.userLogin=function(e,n){var t="username="+e+"&password="+n+"&grant_type=password&scope=basic";return s(t).then(function(e){o(e)})},n.userLogout=function(){return o(void 0),Promise.resolve(!0)},n.GET=function(n,t,o,s){return i(e,"GET",n,t,o,s)},n.POST=function(n,t,o,s){return i(e,"POST",n,t,o,s)},n.PUT=function(n,t,o,s){return i(e,"PUT",n,t,o,s)},n.DELETE=function(n,t,o,s){return i(e,"DELETE",n,t,o,s)}}angular.module("app.core").service("Session",e),e.$inject=["$http"]}()},function(e,n){!function(){"use strict";function e(e,n,t,o){function i(){r.loggedIn=r.user&&o.session.userIsLoggedIn,a(),s()}function s(){var e=n.current.name;!r.loggedIn||"login"!=e&&"sell"!=e?r.loggedIn||"login"==e||"sell"==e||n.go("login"):n.go("dashboard.lesson-list")}function a(){}var r=this;r.user=Lockr.get("State.user"),r.loggedIn=!1,r.register=function(e,n,t){return o.session.userRegister(e,n,t).then(function(){return r.login(e,n)})},r.login=function(e,n){return o.session.userLogin(e,n).then(function(){return o.getUser()}).then(function(e){var n=e.users&&e.users.length>0&&e.users[0];if(!n)throw new Error("No user found.");return r.user=n,n})},r.logout=function(){return r.user=void 0,o.session.userLogout()},e.$watch(function(){return r.user},function(){Lockr.set("State.user",r.user),i()}),e.$on("$stateChangeSuccess",function(e,n,t,o,i){s()}),r.status={101:{enabled:!0},102:{enabled:!0},103:{enabled:!0},104:{enabled:!0}},r.expandedGroup=1}angular.module("app.core").service("State",e),e.$inject=["$rootScope","$state","$q","API"]}()},function(e,n){!function(){"use strict";function e(){return{restrict:"A",link:n}}function n(e,n,t){t.$observe("cmViewBox",function(e){n.attr("viewBox",e)})}angular.module("app.core").directive("cmViewBox",e)}()},function(e,n){!function(){"use strict";function e(e){var n=this;n.state=e,n.logout=function(){return e.logout()}}angular.module("app.dashboard").controller("DashboardController",e),e.$inject=["State"]}()},function(e,n){!function(){"use strict";angular.module("app.dashboard",[])}()},function(e,n,t){!function(){"use strict";angular.module("app",["app.core","app.dashboard","app.lesson","app.login","app.sell"])}(),$=t(2),keyboardJS=t(3),Lockr=t(5),Tone=t(6),VF=t(7).Flow,t(9),t(10),t(11),t(12),t(8),t(13),t(18),t(14),t(15),t(16),t(17),t(19),t(20),t(21),t(22),t(23),t(25),t(24),t(38),t(37),t(33),t(27),t(28),t(29),t(30),t(31),t(32),t(34),t(35),t(36),t(40),t(39)},function(e,n){!function(){"use strict";function e(){function e(e){for(var n=Corridor.Music.tokenToAbsoluteNote(r(e.starts)),t=Corridor.Music.nameToAbsoluteNoteAboveAbsoluteNote(r(e.notes),n),o=[t.display];o.length<3;){var i=Corridor.Music.nameToDisplay(r(e.notes));o.indexOf(i)<0&&o.push(i)}c(o);var s={};return s[t.token]="#3498DB",{question:"Select the displayed note's name",display:[{piano:{start:n.token,length:13,highlights:s}}],answer:{select:{names:o,correct:o.indexOf(t.display)}}}}function n(e){var n=Corridor.Music.tokenToAbsoluteNote(r(e.notes));return{question:"Play the displayed note name",display:[{name:n.display}],answer:{play:[n],exact:!1}}}function t(e){for(var n=Corridor.Music.tokenToAbsoluteNote(r(e.notes)),t=[n.display];t.length<3;){var o=Corridor.Music.tokenToAbsoluteNote(r(e.notes)).display;t.indexOf(o)<0&&t.push(o)}return c(t),{question:"Select the displayed note's name",display:[{notation:a(n,e.clef)}],answer:{select:{names:t,correct:t.indexOf(n.display)}}}}function o(e){for(var n=Corridor.Music.tokenToAbsoluteNote(r(e.notes)),t=[n.token];t.length<3;){var o=r(e.notes);t.indexOf(o)<0&&t.push(o)}c(t);for(var i=[],s=0;s<t.length;s++){var o=t[s];i.push(a(Corridor.Music.tokenToAbsoluteNote(o),e.clef))}return{question:"Select the displayed note's notation",display:[{name:n.display}],answer:{select:{notations:i,correct:t.indexOf(n.token)}}}}function i(e){for(var n=Corridor.Music.tokenToAbsoluteNote(r(e.notes)),t=[n.token];t.length<3;){var o=r(e.notes);t.indexOf(o)<0&&t.push(o)}c(t);for(var i=88,s=[],l=0;l<t.length;l++){var o=t[l],n=Corridor.Music.tokenToAbsoluteNote(o);s.push(a(n,e.clef)),n.value<i&&(i=n.value)}var d={};return d[n.token]="#3498DB",{question:"Select the displayed note's notation",display:[{piano:{start:"c/"+Math.floor(i/12),length:13,highlights:d}}],answer:{select:{notations:s,correct:t.indexOf(n.token)}}}}function s(e){for(var n=Corridor.Music.tokenToAbsoluteNote(r(e.notes)),t=[n.display];t.length<3;){var o=Corridor.Music.tokenToAbsoluteNote(r(e.notes)).display;t.indexOf(o)<0&&t.push(o)}return c(t),{question:"Select the displayed note's name",display:[{notation:a(n,e.clef)}],answer:{play:[n],exact:!0}}}function a(e,n){return{size:{width:125,height:125},staves:[{clef:n,notes:[new VF.StaveNote({keys:[e.token],duration:"w",align_center:!0})]}]}}function r(e){return e[Math.floor(Math.random()*e.length)]}function c(e){var n,t,o;for(o=e.length;o;o--)n=Math.floor(Math.random()*o),t=e[o-1],e[o-1]=e[n],e[n]=t}var l=this;l.generateGames=function(a,r){for(var c=[],l=0;l<r;l++){var d=a[Math.floor(Math.random()*a.length)];"s-piano-n"==d.type?c.push(e(d)):"s-name-p"==d.type?c.push(n(d)):"s-staff-n"==d.type?c.push(t(d)):"s-name-o"==d.type?c.push(o(d)):"s-piano-o"==d.type?c.push(i(d)):"s-staff-p"==d.type&&c.push(s(d))}return c}}angular.module("app.lesson").service("GameGenerator",e),e.$inject=[]}()},function(e,n){!function(){"use strict";function e(e){var n=this;n.state=e,n.groups=Corridor.LessonGroups}angular.module("app.lesson").controller("LessonListController",e),e.$inject=["State"]}()},function(e,n){!function(){"use strict";function e(e,n){var t=this;t.state=n,t["continue"]=function(){e.go("dashboard.lesson-list")}}angular.module("app.lesson").controller("LessonRecapController",e),e.$inject=["$state","State"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{group:"="},template:t(57),controller:n,controllerAs:"vm"}}function n(e,n){var t=this;t.state=n,t.group=e.group}angular.module("app.lesson").directive("cmLessonSelection",e),n.$inject=["$scope","State"]}()},function(e,n){!function(){"use strict";function e(){return{restrict:"E",scope:{type:"@"},link:n}}function n(e,n,t){function o(e){return"see-it-name-it"==e?"See it.<br />Name it.":"see-it-play-it"==e?"See it.<br />Play it.":"hear-it-name-it"==e?"Hear it.<br />Name it.":""}n.append(o(e.type))}angular.module("app.lesson").directive("cmLessonType",e)}()},function(e,n){!function(){"use strict";function e(e,n,t,o,i,s,a){function r(e,n){if(!v[e.value]){var t=o.triggerAttack(e);v[e.value]={source:n,id:t},l(e)}}function c(e,n){var t=v[e.value];t&&t.source==n&&(o.triggerRelease(t.id),delete v[e.value])}function l(e){if(!(u.correct>=0)){var n=u.games[u.progress];if(n.answer.play){if(n.answer.play.length>1){for(var t=0;t<u.played.length;t++){var o=u.played[t];if(o.value==e.value)return}u.played.push(e),u.played.sort(function(e,n){return e.value-n.value})}else u.played=[e];u.reflection=d(u.played)}}}function d(e,n){var t=e[0].value,o=e[e.length-1].value;for(n&&(t=Math.min(t,n[0].value),o=Math.max(o,n[n.length-1].value)),
t=12*Math.floor(t/12),o+=1;o-t<12;)o+=1;Corridor.Music.valueToAbsoluteNote(o).accidental&&(o+=1);for(var i=n?"#F8C9C4":"#3498DB",s={},a=0;a<e.length;a++)s[e[a].token]=i;if(n)for(var a=0;a<n.length;a++)s[n[a].token]="#A8EBC4";return{start:Corridor.Music.valueToAbsoluteNote(t).token,length:o-t+1,highlights:s}}var u=this;u.state=t,u.lesson=Corridor.Lessons[n.params.lessonId],u.games=i.generateGames(u.lesson.games,10),u.progress=0,u.percentage=0,u.selected=-1,u.played=[],u.reflection={start:"c/4",length:13},u.correct=-1,u.answer=void 0,u.quit=function(){n.go("dashboard.lesson-list")},u.selectAnswer=function(e){u.correct>=0||(u.selected=e)},u.checkAnswer=function(){u.percentage=(u.progress+1)/u.games.length*100;var e=u.games[u.progress];if(e.answer.select)u.select=e.answer.select,u.selected==e.answer.select.correct?u.correct=1:(u.correct=0,u.answer=e.answer.select.correct);else if(e.answer.play){for(var n=e.answer.exact?function(e){return e.value}:function(e){return e.id},t=e.answer.play.map(n),o=u.played.map(n),i=t.length==o.length,s=0;s<t.length&&i;s++){var a=t[s];i=o.indexOf(a)>=0}var r=u.played;if(!e.answer.exact){var c=Math.floor(e.answer.play[0].value/12),l=12*(Math.floor(u.played[0].value/12)-c);r=u.played.map(function(e){return Corridor.Music.valueToAbsoluteNote(e.value-l)})}u.correct=i,u.reflection=d(r,e.answer.play)}},u.nextQuestion=function(){return u.progress==u.games.length-1?void n.go("dashboard.lesson-recap"):(u.progress=u.progress+1,u.selected=-1,u.played=[],u.reflection={start:"c/4",length:13},u.correct=-1,void(u.answer=void 0))},u.onScreenKeyboardIsCollapsed=!0,u.onScreenKeyboardOptions={start:"c/3",length:37,height:140,widthToHeightRatio:.32,labels:{"c/3":"C3","c/4":"C4","c/5":"C5","c/6":"C6"},labelFontSize:"11px",labelFontWeight:"700",labelFill:"#C0C0C0",onNotePress:function(e){r(e,"screen")},onNoteRelease:function(e){c(e,"screen")}},s.onKeyPress=function(n,t){var o=Corridor.Music.valueToAbsoluteNote(48+t);e.$apply(function(){r(o,"keyboard")})},s.onKeyRelease=function(e,n){var t=Corridor.Music.valueToAbsoluteNote(48+n);c(t,"keyboard")},a.onKeyPress=function(n,t){var o=Corridor.Music.valueToAbsoluteNote(n);e.$apply(function(){r(o,"midi")})},a.onKeyRelease=function(e){var n=Corridor.Music.valueToAbsoluteNote(e);c(n,"midi")},e.$on("$destroy",function(){s.onKeyPress=void 0,s.onKeyRelease=void 0,a.onKeyPress=void 0,a.onKeyRelease=void 0,o.releaseAll()});var v={}}angular.module("app.lesson").controller("LessonController",e),e.$inject=["$scope","$state","State","Audio","GameGenerator","Keyboard","MIDI"]}()},function(e,n){!function(){"use strict";angular.module("app.lesson",[])}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(59),controller:o,controllerAs:"vm",link:n}}function n(e,n,t,o){var i=n.find("svg"),s=new VF.Renderer(i[0],VF.Renderer.Backends.SVG),a=s.getContext(),r=e.options&&e.options.size||{},c=r.width||300,l=r.height||125;i.attr("viewBox","0 0 "+c+" "+l);for(var d=e.options&&e.options.staves||[],u=0;u<d.length;u++){var v=d[u],p=new VF.Stave(2,0,c-4);v.clef&&p.addClef(v.clef),v.timeSignature&&p.addTimeSignature(v.timeSignature),p.setContext(a).draw(),v.notes&&(VF.Formatter.FormatAndDraw(a,p,v.notes),VF.Beam.generateBeams(v.notes).forEach(function(e){e.setContext(a).draw()}))}}function o(e){}angular.module("app.lesson").directive("cmNotation",e),o.$inject=["$scope"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",scope:{options:"="},template:t(60),controller:n,controllerAs:"vm"}}function n(e,n){function t(){var n=e.options&&e.options.start&&Corridor.Music.tokenToAbsoluteNote(e.options.start)||Corridor.Music.componentsFromToken("c/4"),t=e.options&&e.options.length||12,a=e.options&&e.options.labels||{},r=e.options&&e.options.labelFontSize||"9px",v=e.options&&e.options.labelFontWeight||"400",p=e.options&&e.options.labelFill||"#000000",f=e.options&&e.options.highlights||{},m=e.options&&e.options.widthToHeightRatio||o,h=c*m,g=h*i,y=g/2,b={};for(var w in a){var x=Corridor.Music.tokenToAbsoluteNote(w);b[x.value]=a[w]}var C={};for(var w in f){var x=Corridor.Music.tokenToAbsoluteNote(w);C[x.value]=f[w]}for(var _=0,I=[],M=[],k=0;k<t;k++){var x=Corridor.Music.valueToAbsoluteNote(n.value+k);0==k&&x.accidental&&(_=y-h),k>=1&&!x.accidental&&(_+=h);var A=x.accidental?_+h-y:_,T=A+(x.accidental?g:h),S=0,E=S+(x.accidental?l:c);k==t-1&&x.accidental&&(_+=y);var P={x_min:A,x_max:T,y_min:S,y_max:E},D=C[x.value]?C[x.value]:x.accidental?"#dddddd":"#ffffff",N={note:x,order:(x.accidental?2e3:1e3)+k,bounds:P,path:s(P,"#000000",D)};I.push(N);var L=b[x.value];if(""===L&&(L=x.display),L){var O={x:A+(T-A)/2,y:E-10,style:"font-family: CoreSans-CR; font-size: "+r+"; font-weight: "+v+"; fill: "+p+";",text:L};M.push(O)}}I.sort(function(e,n){return e.order-n.order}),u.paths=I,u.texts=M;var P=d(I);u.bounds=""+P.x_min+" "+P.y_min+" "+(P.x_max-P.x_min)+" "+(P.y_max-P.y_min),e.options&&e.options.height?(u.height=e.options.height,u.width=e.options.height*(P.x_max-P.x_min)/(P.y_max-P.y_min)):e.options&&e.options.width&&(u.width=e.options.width,u.height=e.options.width*(P.y_max-P.y_min)/(P.x_max-P.x_min))}function s(e,n,t){var o=e;return{d:"M "+o.x_min+" "+o.y_min+" L "+o.x_min+" "+o.y_max+" L "+o.x_max+" "+o.y_max+" L "+o.x_max+" "+o.y_min+" Z",stroke:n,strokeWidth:a,fill:t}}function d(e){for(var n=1e7,t=-1e7,o=1e7,i=-1e7,s=0;s<e.length;s++){var a=e[s].bounds;a.x_min<n&&(n=a.x_min),a.x_max>t&&(t=a.x_max),a.y_min<o&&(o=a.y_min),a.y_max>i&&(i=a.y_max)}return{x_min:n-r,y_min:o-r,x_max:t+r,y_max:i+r}}var u=this;e.$watch(function(){return e.options},t);var v=e.options&&e.options.onNotePress||function(){},p=e.options&&e.options.onNoteRelease||function(){},f=void 0;u.onMouseDown=function(e){f||(f=e.note,v(e.note))},u.onMouseUp=function(e){f&&(p(f),n(function(){f=void 0},100))}}angular.module("app.lesson").directive("cmPiano",e);var o=.25,i=.75,s=.65,a=1,r=a/2,c=100,l=c*s;n.$inject=["$scope","$timeout"]}()},function(e,n,t){!function(){"use strict";function e(){return{restrict:"E",replace:!0,scope:{level:"="},template:t(61),controller:n,controllerAs:"vm"}}function n(e){var n=this;n.level=e.level}angular.module("app.lesson").directive("cmTutorial",e),n.$inject=["$scope"]}()},function(e,n){!function(){"use strict";function e(e,n,t,o){var i=this;i.view=0,i.user={},i.loading=!1,i.transitionToView=function(e){i.user={},i.view=e},i.login=function(){return i.loading=!0,o.login(i.user.email,i.user.password).then(function(){i.loading=!1})["catch"](function(e){i.loading=!1,n.error("Sorry, there was a problem logging in.")})},i.register=function(){return i.loading=!0,o.register(i.user.email,i.user.password,i.user.name).then(function(){i.loading=!1})["catch"](function(e){i.loading=!1,n.error("Sorry, there was a problem signing up.")})},i.resetPassword=function(){i.loading=!0,t.session.userResetPassword(i.user.email).then(function(){i.loading=!0,n.success("Your password reset e-mail has been sent. Check your e-mail for instructions."),i.transitionToView(0)})["catch"](function(e){i.loading=!1,n.error("Sorry, there was a problem resetting your password.")})}}angular.module("app.login").controller("LoginController",e),e.$inject=["$scope","toastr","API","State"]}()},function(e,n){!function(){"use strict";angular.module("app.login",[])}()},function(e,n){!function(){"use strict";function e(e,n){var t=this;t.scrollToEmailForm=function(){e.hash("email-form-anchor"),n()}}angular.module("app.sell").controller("SellController",e),e.$inject=["$location","$anchorScroll"]}()},function(e,n){!function(){"use strict";angular.module("app.sell",[])}()},function(e,n,t){t(50)},function(e,n){Corridor=Corridor||{},Corridor.API_URL="https://api-test.corridormusic.com/",Corridor.OAUTH_CLIENT_BASE_64=btoa("corridor-web:f8fb1828-142a-44c6-81d9-8e81ec3beece")},,,,,,,,function(e,n){},,,,function(e,n){e.exports='<div class="container dashboard">\n    <nav class="navbar navbar-default navbar-fixed-top">\n        <div class="container">\n            <h1 class="w1-fg">Corridor</h1>\n            <a class="btn btn-info pull-right" role="button" data-ng-click="vm.logout()">Logout</a>\n        </div>\n    </nav>\n\n    <div ui-view="dashboard-body"></div>\n</div>\n'},function(e,n){e.exports='<div class="col-sm-8 col-xs-12">\n    <div class="card">\n        <h1 class="card-title">Lessons</h1>\n        <div class="lesson-list">\n            <div data-ng-repeat="group in vm.groups">\n                <div class="lesson-group-name">\n                    <a href="" class="title" data-ng-click="vm.state.expandedGroup = group.id">{{ group.name }}</a>\n                </div>\n                <cm-lesson-selection group="group" data-ng-hide="vm.state.expandedGroup !== group.id"></cm-lesson-selection>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="col-sm-4 hidden-xs">\n    <div class="card">\n        <h1 class="card-title">Overview</h1>\n        <div class="card-body">\n            <p>This is a summary of how you\'re doing</p>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="col-sm-12 card lesson-recap">\n    <div class="row">\n        <div class="col-sm-12 header">\n            <h1>Lesson complete!</h1>\n            <p>Here\'s a look at how you did:</p>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-6 col-xs-12">\n            Cool progress report.\n        </div>\n        <div class="col-sm-6 col-xs-12">\n            Some kind of graph.\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12 footer">\n            <div class="row">\n                <div class="col-xs-6">\n                </div>\n                <div class="col-xs-6">\n                    <button class="btn btn-primary pull-right" data-ng-click="vm.continue()">\n                        Continue\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="lesson-selection row">\n    <div class="col-sm-4 box {{ status.enabled ? \'enabled\' : \'disabled\' }}" data-ng-repeat="lesson in vm.group.lessons" data-ng-init="status = vm.state.status[lesson.id]">\n        <a class="{{ lesson.type }}" data-ng-if="status.enabled" data-ui-sref="dashboard.lesson({ lessonId: lesson.id})">\n            <div class="header">\n                <div class="name">{{ lesson.name }}</div>\n                <div class="level">Level {{ lesson.level }}</div>\n            </div>\n            <div class="footer">\n                <div class="type"><cm-lesson-type type="{{ lesson.type }}"></cm-lesson-type></div>\n            </div>\n        </a>\n        <a class="{{ lesson.type }}" data-ng-if="!status.enabled">\n            <div class="overlay"><div class="dim"></div></div>\n            <div class="header">\n                <div class="name">{{ lesson.name }}</div>\n                <div class="level">Level {{ lesson.level }}</div>\n            </div>\n            <div class="footer">\n                <div class="type"><cm-lesson-type type="{{ lesson.type }}"></cm-lesson-type></div>\n            </div>\n        </a>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="col-sm-12 card lesson">\n    <div class="row">\n        <div class="col-sm-12 header">\n            <div class="row">\n                <div class="col-sm-2 col-xs-3 text-center">\n                    <button class="btn btn-info" data-ng-click="vm.quit()">Quit</button>\n                </div>\n                <div class="col-sm-8 col-xs-9">\n                    <uib-progressbar class="progress-striped" value="vm.percentage"></uib-progressbar>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div data-ng-repeat="game in vm.games" data-ng-if="vm.progress == $index">\n        <div class="row">\n            <div class="col-sm-12 question">{{ game.question }}</div>\n        </div>\n        <div class="row">\n            <div class="col-sm-4 col-sm-offset-1 col-xs-12 display">\n                <div data-ng-repeat="display in game.display">\n                    <cm-piano data-ng-if="display.piano" options="display.piano"></cm-piano>\n                    <cm-notation data-ng-if="display.notation" options="display.notation"></cm-notation>\n                    <div class="name" data-ng-if="display.name">\n                        {{ display.name }}\n                    </div>\n                </div>\n            </div>\n            <div class="col-sm-7 col-xs-12 answer">\n                <div class="select" data-ng-if="game.answer.select" data-ng-init="select = game.answer.select">\n                    <div class="name-list" data-ng-if="select.names">\n                        <a href="" class="name"\n                            data-ng-class="{ active: vm.selected == $index, correct: (vm.correct == 1 && vm.selected == $index) || vm.answer == $index, incorrect: vm.correct == 0 && vm.selected == $index }"\n                            data-ng-repeat="name in select.names"\n                            data-ng-click="vm.selectAnswer($index)">\n\n                            <div class="vertical-center-container text-center"><div class="vertical-center-content value">\n                                {{ name }}\n                            </div></div>\n                        </a>\n                    </div>\n                    <div class="notation-list" data-ng-if="select.notations">\n                        <a href="" class="notation"\n                            data-ng-class="{ active: vm.selected == $index, correct: (vm.correct == 1 && vm.selected == $index) || vm.answer == $index, incorrect: vm.correct == 0 && vm.selected == $index }"\n                            data-ng-repeat="notation in select.notations"\n                            data-ng-click="vm.selectAnswer($index)">\n\n                            <cm-notation options="notation"></cm-notation>\n                        </a>\n                    </div>\n                </div>\n                <div data-ng-if="game.answer.play">\n                    <div class="play-instruction">\n                            Play the answer on a connected MIDI keyboard, your computer\'s keyboard, or use the\n                            <a href="" data-ng-click="vm.onScreenKeyboardIsCollapsed = false">on-screen keyboard</a>.\n                    </div>\n                    <cm-piano options="vm.reflection"></cm-piano>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="row">\n        <div class="col-sm-12 footer" data-ng-class="{ correct: vm.correct == 1, incorrect: vm.correct == 0 }">\n            <div class="row">\n                <div class="col-xs-6">\n                    <div class="explanation correct" data-ng-if="vm.correct == 1">\n                        <img src="static/img/lesson/correct.png"></img>\n                        <h1>You are correct</h1>\n                    </div>\n                    <div class="explanation incorrect" data-ng-if="vm.correct == 0" data-ng-init="game = vm.games[vm.progress]">\n                        <img src="static/img/lesson/incorrect.png"></img>\n                        <h1>That is incorrect</h1>\n                    </div>\n                </div>\n                <div class="col-xs-6">\n                    <button class="btn btn-primary pull-right"\n                        data-ng-if="vm.correct == -1"\n                        data-ng-disabled="vm.selected < 0 && vm.played.length <= 0"\n                        data-ng-click="vm.checkAnswer()">\n                        Check Answer\n                    </button>\n\n                    <button class="btn btn-primary pull-right"\n                        data-ng-if="vm.correct >= 0"\n                        data-ng-click="vm.nextQuestion()">\n                        Continue\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="col-sm-12 on-screen-keyboard" data-ng-class="{ collapsed: vm.onScreenKeyboardIsCollapsed }">\n    <div class="buffer"></div>\n    <div class="keyboard float-bottom">\n        <div class="keyboard-options vertical-center-container">\n            <div class="vertical-center-content">\n                <div class="container">\n                    <div class="col-xs-12 text-right">\n                        <a href="" data-ng-click="vm.onScreenKeyboardIsCollapsed = !vm.onScreenKeyboardIsCollapsed">{{ vm.onScreenKeyboardIsCollapsed ? \'Open Keyboard\' : \'Dismiss Keyboard\' }}</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="keyboard-container">\n            <cm-piano options="vm.onScreenKeyboardOptions"></cm-piano>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 300 125" preserveAspectRatio="xMidYMid meet">\n</svg>\n'},function(e,n){e.exports='<svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid meet"\n    cm-view-box="{{ vm.bounds }}"\n    data-ng-attr-width="{{ vm.width ? vm.width : \'100%\' }}"\n    data-ng-attr-height="{{ vm.height ? vm.height : \'100%\' }}">\n\n    <a href=""\n        data-ng-mousedown="vm.onMouseDown(element)"\n        data-ng-mouseup="vm.onMouseUp(element)"\n        ng-touchstart="vm.onMouseDown(element)"\n        ng-touchend="vm.onMouseUp(element)"\n        data-ng-repeat="element in vm.paths"\n        data-ng-init="path = element.path">\n\n        <path\n            data-ng-attr-d="{{ path.d }}"\n            data-ng-attr-stroke="{{ path.stroke }}"\n            data-ng-attr-stroke-width="{{ path.strokeWidth }}"\n            data-ng-attr-fill="{{ path.fill }}">\n        </path>\n    </a>\n\n    <text data-ng-repeat="text in vm.texts"\n        data-ng-attr-x="{{ text.x }}"\n        data-ng-attr-y="{{ text.y }}"\n        data-ng-attr-style="{{ text.style }}"\n        text-anchor="middle">\n        {{ text.text }}\n    </text>\n</svg>\n'},function(e,n){e.exports='<div class="row">\n    <div class="col-sm-12" data-ng-repeat="section in level.sections">\n        <div data-ng-if="section.type == \'piano\'">\n            <cm-piano options="section.options"></cm-piano>\n        </div>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="container-fluid">\n    <div class="login center-block">\n        <div class="row text-center">\n            <div class="logo">Corridor</div>\n        </div>\n\n        <div class="row text-center">\n            <form name="form" class="center-block" data-ng-if="vm.view == 0" data-ng-submit="vm.login()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        required>\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\' : form.password.$invalid && form.password.$touched }">\n                    <input type="password" name="password" class="form-control" placeholder="Password"\n                        data-ng-model="vm.user.password"\n                        data-ng-trim="true"\n                        data-ng-minlength="8"\n                        data-ng-required="true">\n                </div>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Login</button>\n                <a href="" data-ng-click="vm.transitionToView(2)">Forgot your password?</a>\n            </form>\n            <form name="form" class="center-block" data-ng-if="vm.view == 1" data-ng-submit="vm.register()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.name.$invalid && form.name.$touched }">\n                    <input type="name" name="name" class="form-control" placeholder="Name (optional)"\n                        data-ng-model="vm.user.name"\n                        data-ng-trim="true">\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        data-ng-required="true">\n                </div>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\' : form.password.$invalid && form.password.$touched }">\n                    <input type="password" name="password" class="form-control" placeholder="Password (8+ characters)"\n                        data-ng-model="vm.user.password"\n                        data-ng-trim="true"\n                        data-ng-minlength="8"\n                        data-ng-required="true">\n                </div>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Sign Up</button>\n            </form>\n            <form name="form" class="center-block" data-ng-if="vm.view == 2" data-ng-submit="vm.resetPassword()" novalidate>\n                <div class="form-group text-left" data-ng-class="{ \'has-error\': form.email.$invalid && form.email.$touched }">\n                    <input type="email" name="email" class="form-control" placeholder="E-mail"\n                        data-ng-model="vm.user.email"\n                        data-ng-trim="true"\n                        data-ng-required="true">\n                </div>\n                <p class="text-left">Please enter the e-mail address associated with your account. You will be sent an e-mail with instructions to reset your password.</p>\n                <button type="submit" class="btn btn-primary" data-ng-disabled="form.$invalid || vm.loading">Reset</button>\n            </form>\n        </div>\n\n        <div class="row text-center terms">\n            <p>By using Corridor, you agree to the<br /><a href="">Privacy Policy</a> and the <a href="">Terms of Use</a></p>\n        </div>\n\n\n        <nav class="navbar navbar-inverse navbar-fixed-bottom">\n            <div class="container text-center" data-ng-show="vm.view == 0">\n                <p>Don\'t have an account? <a href="" data-ng-click="vm.transitionToView(1)">Sign Up</a>\n            </div>\n            <div class="container text-center" data-ng-show="vm.view == 1">\n                <p>Have an account? <a href="" data-ng-click="vm.transitionToView(0)">Login</a>\n            </div>\n            <div class="container text-center" data-ng-show="vm.view == 2">\n                <p><a href="" data-ng-click="vm.transitionToView(0)">Cancel</a>\n            </div>\n        </nav>\n    </div>\n</div>\n'},function(e,n){e.exports='<div class="sell m11-bg">\n    <nav class="navbar navbar-inverse navbar-fixed-top">\n        <div class="container">\n            <h1 class="w1-fg">Corridor</h1>\n            <!-- <a class="btn btn-info pull-right" role="button" data-ui-sref="login">Login</a> -->\n        </div>\n    </nav>\n\n    <div class="container-fluid text-center">\n        <div class="row sell-section banner">\n            <div class="container">\n                <!-- <button class="btn btn-primary pull-right" role="button"\n                    data-uib-popover-template="login_template"\n                    data-ng-init="login_template = \'login_template.html\'"\n                    data-popover-placement="bottom-right">Login</button>\n                <script type="text/ng-template" id="login_template.html">\n                    <cm-login-form></cm-login-form>\n                </script> -->\n\n                <div class="spacing clearfix">\n                    <div class="head col-sm-2">\n                        <div>\n                            <img src="static/img/logo.png"></img>\n                        </div>\n                    </div>\n                    <div class="head col-sm-10">\n                        <div class="w1-fg">\n                            <p>Your pathway to learning music.</p>\n                            <a class="btn btn-primary" role="button" data-ng-click="vm.scrollToEmailForm()">I\'m Interested</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="container-fluid text-center m11-fg">\n        <div class="row sell-section w4-bg">\n            <div class="container">\n                <div class="row">\n                    <div class="col-sm-8 col-sm-offset-2">\n                        <p class="headline">Corridor is an engaging, game-based program for learning the language of music.</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row sell-section w2-bg">\n            <div class="container">\n                <h1>How You\'ll Learn</h1>\n\n                <div class="row">\n                    <div class="col-sm-6 col-sm-offset-1 vertical-center-container">\n                        <div class="vertical-center-content text-left">\n                            <h2>See it. Name it.</h2>\n                            <p class="m6-fg text">Visual Recognition. These games help you to recognize musical materials based on how they look on the staff, on the keyboard and represented by popular musical symbols.</p>\n                        </div>\n                    </div>\n                    <div class="col-sm-4 vertical-center-container">\n                        <div class="vertical-center-content">\n                            <img height="180px" src="static/img/sell/01.png" class="img-circle"></img>\n                        </div>\n                    </div>\n                </div>\n\n                <hr class="a2-fg" />\n\n                <div class="row">\n                    <div class="col-sm-6 col-sm-offset-1 col-sm-push-4 vertical-center-container">\n                        <div class="vertical-center-content text-left">\n                            <h2>Hear it. Name it.</h2>\n                            <p class="m6-fg text">Aural Recognition. These games engage your ear and help you to recognize music materials based on how they sound.</p>\n                        </div>\n                    </div>\n                    <div class="col-sm-4 col-sm-pull-6 vertical-center-container">\n                        <div class="vertical-center-content">\n                            <img height="180px" src="static/img/sell/02.png" class="img-circle"></img>\n                        </div>\n                    </div>\n                </div>\n\n                <hr />\n\n                <div class="row">\n                    <div class="col-sm-6 col-sm-offset-1 vertical-center-container">\n                        <div class="vertical-center-content text-left">\n                            <h2>See it. Play it.</h2>\n                            <p class="m6-fg text">Practical Application. These games develop your understanding of musical materials by applying them to the keyboard.</p>\n                        </div>\n                    </div>\n                    <div class="col-sm-4 vertical-center-container">\n                        <div class="vertical-center-content">\n                            <img height="180px" src="static/img/sell/03.png" class="img-circle"></img>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row sell-section w4-bg">\n            <div class="container">\n                <h1>A Great Resource for Teachers</h1>\n\n                <div class="row">\n                    <div class="col-sm-12">\n                        <img height="180px" src="static/img/sell/04.png"></img>\n                    </div>\n\n                    <div class="col-sm-10 col-sm-offset-1">\n                        <div>\n                            <p class="headline">Corridor allows private teachers and classroom instructors to assign topics and track their students\' progress in real-time.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row sell-section w2-bg">\n            <div class="container">\n                <h1>Created by Leaders in Music Education</h1>\n\n                <div class="row">\n                    <div class="col-sm-5 vertical-center-container">\n                        <div class="vertical-center-content">\n                            <img src="static/img/sell/jay.jpg" class="img-circle" style="max-height: 180px;"></img>\n                        </div>\n                    </div>\n                    <div class="col-sm-7 vertical-center-container">\n                        <div class="vertical-center-content text-left">\n                            <p class="m6-fg text"><strong>Jay Fuchs Ph.D.</strong> is Head of the Music Theory Department at McNally Smith College of Music, a popular entertainer, music director, composer, author of five popular music theory textbooks, and co-founder of American Pop Academy.</p>\n                        </div>\n                    </div>\n                </div>\n\n                <hr />\n\n                <div class="row">\n                    <div class="col-sm-5 col-sm-push-7 vertical-center-container">\n                        <div class="vertical-center-content">\n                            <img src="static/img/sell/dan.jpg" class="img-circle" style="max-height: 180px;"></img>\n                        </div>\n                    </div>\n                    <div class="col-sm-7 col-sm-pull-5 vertical-center-container">\n                        <div class="vertical-center-content text-left">\n                            <p class="m6-fg text"><strong>Dan Musselman Ph.D.</strong> is a music director for The Voice finalist Kat Perkins, a composer and sound designer for TV commercials, teacher and Head of Ear Training Development at McNally Smith College of Music, author of three ear training textbooks, and co-founder of American Pop Academy.</p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row sell-section w4-bg">\n            <div class="container">\n                <a id="email-form-anchor"></a><h1>Stay In Touch</h1>\n\n                <div class="row">\n                    <div class="col-sm-6 col-sm-offset-3 text-left">\n                        <p class="note m6-fg">Corridor is currently under development, but will be released to the public soon!  Please fill out the form below to be notified about the release date and other updates.</p>\n                    </div>\n                </div>\n\n                <div class="row">\n                    <form class="email-form center-block w1-bg card" action="https://formspree.io/sales@corridormusic.com" method="POST">\n                        <div class="form-group text-left">\n                            <input type="text" id="name" class="form-control" placeholder="Name" name="name">\n                        </div>\n                        <div class="form-group text-left">\n                            <input type="email" id="email" class="form-control" placeholder="E-mail" name="email">\n                        </div>\n                        <input type="submit" class="btn btn-primary" value="Keep Me Updated">\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="container-fluid text-center">\n        <div class="row footer">\n            <p>Copyright 2016, Corridor Music, LLC</p>\n        </div>\n    </div>\n</div>\n';
}]);